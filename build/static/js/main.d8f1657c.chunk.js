(this["webpackJsonpki-app"]=this["webpackJsonpki-app"]||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"title":"Explorer"}')},38:function(e,t,a){e.exports={title:"Title_title__16vB9"}},39:function(e,t,a){e.exports={title:"Title_title__1WB_r"}},40:function(e,t,a){e.exports={title:"Title_title__3LAYU"}},44:function(e,t,a){},46:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);a(44);var n,s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},r=a(1),i=a(2);!function(e){e.setUpSensorManager="setUpSensorManager",e.waitForDB="waitForDB",e.NeedMessage="NeedMessage",e.SetMessage="SetMessage",e.NeedQRC="NeedQRC",e.SetQRC="SetQRC",e.SetProjects="SetProjects",e.SetLanguage="SetLanguage",e.LoadError="LoadError",e.Login="Login",e.Register="Register",e.updateData="updateData",e.NewProjekt="NewProjekt",e.LoadProject="LoadProject",e.LoadModel="LoadModel",e.LoginFail="LoginFail",e.StartDataRead="StartDataRead",e.ClassifyResult="ClassifyResult",e.NeedDataRows="NeedDataRows",e.ChangeLabel="ChangeLabel",e.DeleteLabel="DeleteLabel",e.NewLabel="NewLabel",e.ChangeToStart="ChangeToStart",e.ChangeToFinish="ChangeToFinish",e.ChangeToDataCollection="ChangeToDataCollection",e.ChangeToRefferring="ChangeToRefferring",e.ChangeToVisual="ChangeToVisual",e.ChangeToCreation="ChangeToCreation",e.NeedInstantDiagram="NeedInstantDiagram",e.SetWaitTime="SetWaitTime",e.SetReadTime="SetReadTime",e.NeedRows="NeedRows",e.DeliverWeb="DeliverWeb",e.NeedDownload="NeedDownload",e.NeedDatabaseList="NeedDatabaseList",e.SetDataRows="SetDataRows",e.NeedKiTraining="NeedKiTraining",e.setLabel="setLabel",e.NeedLeadTime="NeedLeadTime",e.ChangeToDelivery="ChangeToDelivery"}(n||(n={}));var o=a(3),c=a.n(o),u=a(6),l=a(5),h=(a(46),a(0)),d=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={download:function(){}},e.clicked=function(){e.props.download()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return e.clicked()},className:"download-btn",children:a.T_BUTTON_DOWNLOAD})})}}]),a}(o.Component);d.T_BUTTON_DOWNLOAD="Herunterladen!";var g=a(12),p=a(14),f=a(42),v=a(7),b=(a(11),a(56),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={delivery:function(e){}},e.state={mouse:!1,addButtonClick:!1,inputempty:!0,inputemail:{id:"",address:"",chosen:!1},emails:[]},e.handleCreate=function(){e.setState({addButtonClick:!0})},e.inputchange=function(t){""===t.target.value?e.setState({inputempty:!0}):e.setState({inputemail:{id:Object(f.a)(),address:t.target.value,chosen:!1},inputempty:!1})},e.handleKeyUp=function(t){if(13===t.keyCode){var n=e.state,s=n.inputemail,r=n.inputempty,i=n.emails;if(r)v.NotificationManager.error(a.E_INPUT_EMPTY_DE,"",3e3);else if(i.map((function(e){return e.address===s.address})).includes(!0))v.NotificationManager.error(a.E_INPUT_DUPLICATE_DE,"",3e3);else{/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z])+$/.test(s.address)?(e.addEmail(s),e.setState({addButtonClick:!1})):v.NotificationManager.error(a.E_INPUT_INVALID_DE,"",3e3)}}},e.handleMouse=function(t){return function(){return e.setState({mouse:t})}},e.handleCheck=function(t,a){var n=e.state.emails.map((function(e){return e.id===t?Object(p.a)(Object(p.a)({},e),{},{chosen:a}):e}));e.setState({emails:n})},e.handleDelete=function(t){if(window.confirm(a.Q_DELETE_ADDRESS_SINGLE_DE)){var n=e.state.emails.filter((function(e){return e.id!==t}));e.setState({emails:n})}},e.addEmail=function(t){var a=e.state.emails,n=[t].concat(Object(g.a)(a));e.setState({emails:n})},e.deleteEmail=function(t){var a=e.state.emails.filter((function(e){return e.id!==t}));e.setState({emails:a})},e.chooseAllEmail=function(t){var a=t.target.checked,n=e.state.emails.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{chosen:a})}));e.setState({emails:n})},e.clearAllChosen=function(){if(window.confirm(a.Q_DELETE_ADDRESS_MULTI_DE)){var t=e.state.emails.filter((function(e){return!e.chosen}));e.setState({emails:t})}},e.delivery=function(){var t=e.state.emails.filter((function(e){return e.chosen})).map((function(e){return e.address}));e.props.delivery(t)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,n=t.mouse,s=t.emails,r=s.reduce((function(e,t){return e+(t.chosen?1:0)}),0),i=s.length;return Object(h.jsxs)("div",{className:"email-main",children:[Object(h.jsxs)("div",{className:"addemailbutton",children:[Object(h.jsx)("button",{onClick:function(){return e.handleCreate()},className:"addemail-btn",children:a.T_ADD_BUTTON_DE}),this.state.addButtonClick?Object(h.jsx)("div",{className:"inputbox",children:Object(h.jsx)("input",{value:this.state.inputemail.address,onKeyUp:this.handleKeyUp,onChange:this.inputchange,type:"text",placeholder:a.T_ADD_PLACEHOLDER_DE,className:"emailinput"})}):null]}),s.map((function(t){return Object(h.jsxs)("li",{style:{backgroundColor:n?"#ddd":"#fff"},onMouseEnter:e.handleMouse(!0),onMouseLeave:e.handleMouse(!1),children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{className:"emailitemcheck",type:"checkbox",checked:t.chosen,onChange:function(a){return e.handleCheck(t.id,a.target.checked)}}),Object(h.jsx)("span",{children:t.address})]}),Object(h.jsx)("button",{onClick:function(){return e.handleDelete(t.id)},className:"btn-item",style:{display:n?"block":"none"},children:a.T_DELETE_BUTTON_DE})]})})),Object(h.jsxs)("div",{className:"handleallemail",children:[Object(h.jsx)("label",{children:Object(h.jsx)("input",{className:"chooseall",type:"checkbox",onChange:this.chooseAllEmail,checked:r===i&&0!==i})}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[a.T_SELECTION_COUNT_PART_DE,": ",r]})," / ",a.T_SELECTION_COUNT_FULL_DE,": ",i]}),Object(h.jsx)("button",{onClick:function(){return e.clearAllChosen()},className:"btn-clear",children:a.T_SELECT_ALL_BUTTON_DE})]}),Object(h.jsx)("div",{className:"deliverybutton",children:Object(h.jsx)("button",{onClick:function(){return e.delivery()},className:"delivery-btn",children:a.T_SEND_BUTTON_DE})})]})}}]),a}(o.Component));b.E_INPUT_EMPTY_DE="Die Eingabe darf nicht leer sein!",b.E_INPUT_DUPLICATE_DE="Diese E-Mail-Adresse ist schon in der Liste!",b.E_INPUT_INVALID_DE="Der eingebene Wert kann keine g\xfcltige E-Mail-Adresse sein.",b.Q_DELETE_ADDRESS_SINGLE_DE="Sind Sie sich sicher, die gew\xe4hlte Emailadresse l\xf6schen zu wollen?",b.Q_DELETE_ADDRESS_MULTI_DE="Sind Sie sich sicher, die gew\xe4hlten Emailadressen l\xf6schen zu wollen?",b.T_ADD_BUTTON_DE="Neue Emailadresse mit 'Enter' hinzuf\xfcgen!",b.T_ADD_PLACEHOLDER_DE="Ein Druck auf die 'Enter'-Taste f\xfcgt die Eingabe hinzu.",b.T_SELECTION_COUNT_PART_DE="Gew\xe4hlt",b.T_SELECTION_COUNT_FULL_DE="Insgesamt",b.T_SEND_BUTTON_DE="Ausliefern!",b.T_DELETE_BUTTON_DE="L\xf6schen",b.T_SELECT_ALL_BUTTON_DE="Alle ausgew\xe4hlten Emailadressen hinzuf\xfcgen!";var m=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.languageCode="de",this.messages=[],this.chosenEmails=void 0},j=a(9),D=a.n(j),E=function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new m,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var t=Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"title",children:e.T_PAGE_TITLE_DE}),Object(h.jsx)(b,{delivery:this.delivery.bind(this)}),Object(h.jsx)(d,{download:this.download.bind(this)}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(t,document.getElementById("root"))}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}},{key:"delivery",value:function(e){this.state.currentState=n.DeliverWeb,this.state.chosenEmails=e,this.notify()}},{key:"download",value:function(){this.state.currentState=n.NeedDownload,this.notify()}}]),e}();E.T_PAGE_TITLE_DE="Modellauslieferung";var S=function(){function e(t){Object(r.a)(this,e),this.page=void 0,this.state=void 0,this.page=new E,this.page.attach(this),this.state=this.page.getState(),this.state.chosenAIModel=t,this.page.setState(this.state),this.update()}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.DeliverWeb:this.deliverAsWebApp();break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state)}}},{key:"deliverAsWebApp",value:function(){Qe.getInstance().getFacade().sendAIModel(this.state.chosenAIModel,this.state.chosenEmails)}},{key:"deliverAsExe",value:function(){}}]),e}(),T=a(10),O=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.languageCode="de",this.messages=[],this.dataSetMetas=[],this.currentDataSets=[]},_=(a(57),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={pageChangeToCreation:function(){}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return e.props.pageChangeToCreation()},className:"finish-btn",children:"Zur Modellerstellungsseite"})})}}]),a}(o.Component)),y=(a(58),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).diagrammData=[{datavalue:0}],e.props={currentDataSets:[],dataSetMetas:[]},e.state={showDiagramIndex:0,diagramList:[],diagrammData:{lineLabels:[],sensorRow:[],datavalue:[],time:[]},color:["rgba(46,190,87,1)","rgba(68,24,232,1)","rgba(238,173,14,1)","rgba(178,34,34,1)","rgba(238, 130, 238,1)","rgba(0, 0, 0,1)","rgba(106, 90, 205,1)","rgba(238, 118, 0,1)","rgba(105, 105, 105,1)"],csscolor:["rgba(46,190,87,1)","rgba(68,24,232,1)","rgba(238,173,14,1)","rgba(178,34,34,1)","rgba(238, 130, 238,1)","rgba(0, 0, 0,1)","rgba(106, 90, 205,1)","rgba(238, 118, 0,1)","rgba(105, 105, 105,1)"]},e.handleClick=function(t,a){e.setState({showDiagramIndex:a})},e}return Object(i.a)(n,[{key:"updateDiagramm",value:function(e,t){var a=this.state.diagrammData;a.sensorRow=[],a.datavalue=[],a.time=[],this.state.diagrammData=a;for(var s=[],r=0;r<e.rows.length;r++){this.state.diagrammData.sensorRow.push(e.rows[r].sensorType);for(var i=0;i<3;i++){for(var o=0;o<e.rows[r].datapoint.length;o++)s.push(e.rows[r].datapoint[o].value[i]);this.state.diagrammData.datavalue.push(s),s=[]}}for(o=0;o<e.rows[0].datapoint.length;o++)this.state.diagrammData.time.push(e.rows[0].datapoint[o].relativeTime);var c=[],u=[];for(r=0;r<3*this.state.diagrammData.sensorRow.length;r++){var l=".X",d=this.state.diagrammData.sensorRow[r/3|0],g="";switch(d){case 2:g=n.T_ACCELEROMETER_DE;break;case 3:g=n.T_GYROSCOPE_DE;break;case 4:g=n.T_MAGNETOMETER_DE}r%3==1&&(l=".Y"),r%3==2&&(l=".Z");var p={color:this.state.csscolor[r]};u.push(Object(h.jsxs)("span",{style:p,children:["\u25a0",g+l,Object(h.jsx)("br",{})]})),c.push({label:d+l,strokeColor:this.state.color[r],borderWidth:1,data:this.state.diagrammData.datavalue[r]})}var f={labels:this.state.diagrammData.time,datasets:c},v={datasetFill:!1,pointDotRadius:2,pointHitDetectionRadius:1,offsetGridLines:!1,pointDot:!1},b=this.state.diagramList,m=e.dataSetID;void 0!==b[t]?b[t]={dataSetID:m,lineLabels:u,data:f,options:v}:b.push({dataSetID:m,lineLabels:u,data:f,options:v}),this.state.diagramList=b,this.diagrammData[t].datavalue=this.props.currentDataSets[t].rows[0].datapoint.length}},{key:"render",value:function(){var e,t=this,n=a(23).Line;return null===(e=this.props.currentDataSets)||void 0===e||e.map((function(e,a){var n=!1;if(t.state.diagramList.map((function(s,r){if(console.log(t.props.currentDataSets[r].rows.length),s.dataSetID===e.dataSetID)return void 0!==t.diagrammData[r]&&t.diagrammData[r].datavalue!=t.props.currentDataSets[r].rows[0].datapoint.length&&(t.updateDiagramm(e,r),t.diagrammData[r].datavalue=t.props.currentDataSets[a].rows[0].datapoint.length),n=!0,s})),n)return e;t.diagrammData.push({datavalue:0}),t.updateDiagramm(e,a)})),Object(h.jsx)("div",{children:this.state.diagramList.map((function(e,a){var s="Null";return t.props.dataSetMetas.forEach((function(t){t.dataSetID===e.dataSetID&&(s=t.dataSetName)})),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"diagramTop",children:[Object(h.jsx)("h5",{className:"datasetName",children:s}),e.lineLabels]}),Object(h.jsx)("div",{className:"diagramList",children:Object(h.jsx)(n,{data:e.data,options:e.options,width:window.innerWidth,height:300})})]},a)}))})}}]),n}(o.Component));y.T_ACCELEROMETER_DE="Beschleunigungssensor",y.T_GYROSCOPE_DE="Gyroskop",y.T_MAGNETOMETER_DE="Magnetometer";var k=function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new O,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var t=Object(h.jsxs)("div",{className:"visualizationpage",children:[Object(h.jsx)("h2",{className:"title",children:e.PAGE_TITLE}),Object(h.jsx)("br",{}),Object(h.jsx)(_,{pageChangeToCreation:this.changetoCreation.bind(this)}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(y,{currentDataSets:this.state.currentDataSets,dataSetMetas:this.state.dataSetMetas}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(t,document.getElementById("root"))}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){var e,t=Object(T.a)(this.observers);try{for(t.s();!(e=t.n()).done;){e.value.update()}}catch(a){t.e(a)}finally{t.f()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}},{key:"changetoCreation",value:function(){this.state.currentState=n.ChangeToCreation,this.notify()}}]),e}();k.PAGE_TITLE="Projektvisualisierung";var w=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.languageCode="de",this.messages=[],this.dataSetMetas=[],this.trainingParameter={dataSets:[],imputator:"",classifier:"",scaler:"",features:[]}},I=(a(69),a(22)),N=a.n(I),L=(a(70),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={dataSetMetas:[],train:function(e,t,a,n,s){},changeToReferring:function(){}},e.state={mouse:!1,openNewWindow:!1,value:"",databaseList:[],datasets:[],imputators:[{name:a.T_IMPUTER_MEAN_DE,checked:!0,tag:"MEAN"}],scalers:[{name:a.T_SCALER_STANDARD_DE,checked:!1,tag:"STANDARD"},{name:a.T_SCALER_ROBUST_DE,checked:!1,tag:"ROBUST"},{name:a.T_SCALER_MIN_MAX_DE,checked:!1,tag:"MIN_MAX"},{name:a.T_SCALER_NORMALIZER_DE,checked:!1,tag:"NORMALIZER"}],myfeatures:[{name:a.T_FEATURE_MIN_DE,checked:!1,tag:"MIN"},{name:a.T_FEATURE_MAX_DE,checked:!1,tag:"MAX"},{name:a.T_FEATURE_VARIANCE_DE,checked:!1,tag:"VARIANCE"},{name:a.T_FEATURE_ENERGY_DE,checked:!1,tag:"ENERGY"},{name:a.T_FEATURE_FOURIER_TRANSFORM_DE,checked:!1,tag:"FOURIER_TRANSFORM"},{name:a.T_FEATURE_MEAN_DE,checked:!1,tag:"MEAN"},{name:a.T_FEATURE_AUTOREGRESSIVE_DE,checked:!1,tag:"AUTOREGRESSIVE"},{name:a.T_FEATURE_SKEWNESS_DE,checked:!1,tag:"SKEWNESS"},{name:a.T_FEATURE_KURTOSIS_DE,checked:!1,tag:"KURTOSIS"},{name:a.T_FEATURE_IQR_DE,checked:!1,tag:"IQR"}],classifiers:[{name:a.T_CLASSIFIER_MLP_DE,checked:!1,tag:"MLP"},{name:a.T_CLASSIFIER_RANDOM_FOREST_DE,checked:!1,tag:"RANDOM_FOREST"},{name:a.T_CLASSIFIER_K_NEIGHBORS_DE,checked:!1,tag:"K_NEIGHOBORS"},{name:a.T_CLASSIFIER_SVM_DE,checked:!1,tag:"SVM"}],chosenScaler:0,chosenclassifier:0,chosenImputator:0},e.handleMouse=function(t){return function(){e.setState({mouse:t})}},e.handleCheck=function(t,a){var n=e.state.datasets.map((function(e){return e.dataSetID===t?Object(p.a)(Object(p.a)({},e),{},{chosen:a}):e}));e.setState({datasets:n})},e.handleDelete=function(t){if(window.confirm(a.Q_DATASET_DELETE_DE)){var n=e.state.datasets.filter((function(e){return e.dataSetID!==t}));e.setState({datasets:n})}},e.handleCreate=function(){e.setState({openNewWindow:!e.state.openNewWindow})},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleChoose=function(){if(""===e.state.value)return v.NotificationManager.error(a.E_DATASET_EMPTY_SELECTION_DE,"",3e3),void e.setState({openNewWindow:!1});var t=e.state.datasets;e.props.dataSetMetas.map((function(a){return a.dataSetName==e.state.value&&(t.push({dataSetID:a.dataSetID,dataSetName:a.dataSetName,chosen:!0}),!0)})),e.setState({datasets:t,openNewWindow:!1,value:void 0})},e.options=function(){return e.props.dataSetMetas.map((function(t){return e.state.datasets.map((function(e){return e.dataSetID})).includes(t.dataSetID)?Object(h.jsx)("option",{value:t.dataSetName,disabled:!0,children:t.dataSetName},t.dataSetID):Object(h.jsx)("option",{value:t.dataSetName,children:t.dataSetName},t.dataSetID)}))},e.handleImputation=function(t){var n=Object(g.a)(e.state.imputators),s=e.state.chosenImputator;n[t].checked?s--:s++,s<=1?(n[t].checked=!n[t].checked,e.setState({chosenImputator:s,imputators:n})):v.NotificationManager.error(a.E_IMPUTER_MULTI_SELECTION_DE,"",3e3)},e.handleScaler=function(t){var n=Object(g.a)(e.state.scalers),s=e.state.chosenScaler;n[t].checked?s--:s++,s<=1?(n[t].checked=!n[t].checked,e.setState({chosenScaler:s}),e.setState({scalers:n})):v.NotificationManager.error(a.E_SCALER_MULTI_SELECTION_DE,"",3e3)},e.handleExtraction=function(t){var a=Object(g.a)(e.state.myfeatures);a[t].checked=!a[t].checked,e.setState({features:a})},e.handleClassifier=function(t){var n=Object(g.a)(e.state.classifiers),s=e.state.chosenclassifier;n[t].checked?s--:s++,s<=1?(n[t].checked=!n[t].checked,e.setState({chosenclassifier:s}),e.setState({classifiers:n})):v.NotificationManager.error(a.E_CLASSIFIER_MULTI_SELECTION_DE,"",3e3)},e.handleTrain=function(){var t=[],n="",s="",r="",i=[],o=e.state,c=o.datasets,u=o.imputators,l=o.classifiers,h=o.scalers,d=o.myfeatures,g=!0,p=!0,f=!0,b=!0,m=!0,j=!1;c.map((function(e){return e.chosen&&(g=!1,t.push(e.dataSetID)),e})),u.map((function(e){return e.checked&&(p=!1,n=e.tag),e})),l.map((function(e){return e.checked&&(f=!1,s=e.tag),e})),h.map((function(e){return e.checked&&(b=!1,r=e.tag),e})),d.map((function(e){return e.checked&&(m=!1,i.push(e.tag)),e})),g&&(v.NotificationManager.error(a.E_DATASET_NO_SELECTION_DE,"",3e3),j=!0),p&&(v.NotificationManager.error(a.E_IMPUTER_NO_SELECTION_DE,"",3e3),j=!0),f&&(v.NotificationManager.error(a.E_CLASSIFIER_NO_SELECTION_DE,"",3e3),j=!0),b&&(v.NotificationManager.error(a.E_SCALER_NO_SELECTION_DE,"",3e3),j=!0),m&&(v.NotificationManager.error(a.E_FEATURE_NO_SELECTION_DE,"",3e3),j=!0),j||e.props.train(t,n,s,r,i)},e}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({databaseList:[]});var e,t=Object(T.a)(this.props.dataSetMetas);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.state.databaseList.push({dataSetName:a.dataSetName,dataSetID:a.dataSetID,chosen:!1})}}catch(n){t.e(n)}finally{t.f()}}},{key:"handleChangePage",value:function(){this.props.changeToReferring()}},{key:"render",value:function(){var e=this,t=this.state,n=t.mouse,s=t.datasets,r=t.imputators,i=t.scalers,o=t.myfeatures,c=t.classifiers;return Object(h.jsxs)("div",{className:"train",children:[Object(h.jsx)("h3",{className:"text",children:a.T_DATASET_TITLE_DE}),s.map((function(t){return Object(h.jsxs)("li",{style:{backgroundColor:n?"#ddd":"#fff"},onMouseEnter:e.handleMouse(!0),onMouseLeave:e.handleMouse(!1),className:"list",children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:t.chosen,onChange:function(a){return e.handleCheck(t.dataSetID,a.target.checked)}}),Object(h.jsx)("span",{children:t.dataSetName})]}),Object(h.jsx)("button",{onClick:function(){return e.handleDelete(t.dataSetID)},type:"button",className:"btn-item",style:{display:n?"block":"none"},children:a.T_DATASET_DELETE_DE})]})})),Object(h.jsxs)("div",{className:"adddatasetbutton",children:[this.state.openNewWindow&&Object(h.jsx)(N.a,{children:Object(h.jsxs)("div",{className:"login-window",children:[Object(h.jsx)("h1",{className:"text",children:a.T_DATASET_LIST_TITLE_DE}),Object(h.jsxs)("select",{onChange:this.handleChange,className:"text2",children:[Object(h.jsx)("option",{value:"",className:"text2",children:a.T_DATASET_LIST_DROPDOWN_DE}),this.options()]}),Object(h.jsx)("button",{onClick:this.handleChoose,className:"choose-btn",type:"button",children:a.T_DATASET_LIST_ADD_DE})]})}),Object(h.jsx)("button",{onClick:function(){return e.handleCreate()},className:"create-btn",type:"button",children:a.T_DATASET_ADD_DE})]}),Object(h.jsxs)("div",{className:"list",children:[Object(h.jsxs)("div",{className:"imputationlist",children:[Object(h.jsx)("h3",{className:"text",children:a.T_IMPUTER_TITLE_DE}),r.map((function(t,a){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"imputationcheck",type:"checkbox",value:a,checked:t.checked,onChange:function(){return e.handleImputation(a)}}),Object(h.jsx)("span",{children:t.name})]},a)}))]}),Object(h.jsxs)("div",{className:"scalerlist",children:[Object(h.jsx)("h3",{className:"text",children:a.T_SCALER_TITLE_DE}),i.map((function(t,a){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"scalercheck",type:"checkbox",value:a,checked:t.checked,onChange:function(){return e.handleScaler(a)}}),Object(h.jsx)("span",{children:t.name})]},a)}))]})]}),Object(h.jsxs)("div",{className:"list",children:[Object(h.jsxs)("div",{className:"extractionlist",children:[Object(h.jsx)("h3",{className:"text",children:a.T_FEATURE_TITLE_DE}),o.map((function(t,a){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"featurecheck",type:"checkbox",value:a,checked:t.checked,onChange:function(){return e.handleExtraction(a)}}),Object(h.jsx)("span",{children:t.name})]},a)}))]}),Object(h.jsxs)("div",{className:"classifierlist",children:[Object(h.jsx)("h3",{className:"text",children:a.T_CLASSIFIER_TITLE_DE}),c.map((function(t,a){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"classifiercheck",type:"checkbox",value:a,checked:t.checked,onChange:function(){return e.handleClassifier(a)}}),Object(h.jsx)("span",{children:t.name})]},a)}))]})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"clearfloat",children:[Object(h.jsx)("button",{onClick:function(){return e.handleTrain()},className:"train-btn",type:"button",children:a.T_BUTTON_START_DE}),Object(h.jsx)("button",{onClick:function(){return e.handleChangePage()},className:"changepage-btn",type:"button",children:a.T_BUTTON_HOME_DE})]})]})}}]),a}(o.Component));L.T_IMPUTER_MEAN_DE="Arithmetischer Mittelwert",L.T_SCALER_STANDARD_DE="Standard Scaler",L.T_SCALER_ROBUST_DE="Robust Scaler",L.T_SCALER_MIN_MAX_DE="Min-Max Scaler",L.T_SCALER_NORMALIZER_DE="Normalizer",L.T_FEATURE_MIN_DE="Minimum",L.T_FEATURE_MAX_DE="Maximum",L.T_FEATURE_VARIANCE_DE="Varianz",L.T_FEATURE_ENERGY_DE="Energie",L.T_FEATURE_FOURIER_TRANSFORM_DE="Fourier-Transformation",L.T_FEATURE_MEAN_DE="Mittelwert",L.T_FEATURE_AUTOREGRESSIVE_DE="Autoregression",L.T_FEATURE_SKEWNESS_DE="Abweichung",L.T_FEATURE_KURTOSIS_DE="W\xf6lbung",L.T_FEATURE_IQR_DE="Quantil-Regression",L.T_CLASSIFIER_MLP_DE="Multi-Level-Perceptron (Neurales Netz)",L.T_CLASSIFIER_RANDOM_FOREST_DE="Random-Forest-Klassifizierer",L.T_CLASSIFIER_K_NEIGHBORS_DE="K-n\xe4chster-Nachbar-Methode",L.T_CLASSIFIER_SVM_DE="St\xfctzvektor-Maschine",L.Q_DATASET_DELETE_DE="Sind Sie sich sicher, den gew\xe4hlten Datensatz l\xf6schen zu wollen?",L.E_DATASET_EMPTY_SELECTION_DE="Kein Datensatz ausgew\xe4hlt!",L.E_IMPUTER_MULTI_SELECTION_DE="Es darf nur ein Imputer ausgew\xe4hlt werden.",L.E_SCALER_MULTI_SELECTION_DE="Es darf nur ein Scaler ausgew\xe4hlt werden.",L.E_CLASSIFIER_MULTI_SELECTION_DE="Es darf nur ein Klassifizierer ausgew\xe4hlt werden.",L.E_DATASET_NO_SELECTION_DE="Kein Datensatz ausgew\xe4hlt!",L.E_IMPUTER_NO_SELECTION_DE="Kein Imputer ausgew\xe4hlt!",L.E_SCALER_NO_SELECTION_DE="Kein Scaler ausgew\xe4hlt!",L.E_FEATURE_NO_SELECTION_DE="Keine Merkmale zur Extraktion ausgew\xe4hlt!",L.E_CLASSIFIER_NO_SELECTION_DE="Kein Klassifizierer ausgew\xe4hlt!",L.T_DATASET_TITLE_DE="Verwendete Datens\xe4tze",L.T_DATASET_DELETE_DE="L\xf6schen",L.T_DATASET_LIST_TITLE_DE="Datensatzliste",L.T_DATASET_LIST_DROPDOWN_DE="Datensatz ausw\xe4hlen",L.T_DATASET_LIST_ADD_DE="Hinzuf\xfcgen",L.T_DATASET_ADD_DE="Datensatz hinzuf\xfcgen",L.T_IMPUTER_TITLE_DE="Imputation",L.T_SCALER_TITLE_DE="Normalisierung (Scaling)",L.T_FEATURE_TITLE_DE="Merkmalsextraktion",L.T_CLASSIFIER_TITLE_DE="Klassifizierer",L.T_BUTTON_START_DE="KI-Modell trainieren",L.T_BUTTON_HOME_DE="Zur\xfcck zur Verweisseite";var C=function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new w,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var t=Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"title",children:e.T_PAGE_TITLE_DE}),Object(h.jsx)(L,{dataSetMetas:this.state.dataSetMetas,train:this.train.bind(this),changeToReferring:this.changeToReferring.bind(this)}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(t,document.getElementById("root"))}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}},{key:"train",value:function(e,t,a,s,r){this.state.currentState=n.NeedKiTraining,this.state.trainingParameter.dataSets=e,this.state.trainingParameter.imputator=t,this.state.trainingParameter.classifier=a,this.state.trainingParameter.scaler=s,this.state.trainingParameter.features=r,this.notify()}},{key:"changeToReferring",value:function(){this.state.currentState=n.ChangeToRefferring,this.notify()}}]),e}();C.T_PAGE_TITLE_DE="Modellerstellung";var x=function(){function e(){Object(r.a)(this,e),this.page=void 0,this.state=void 0,this.page=new C,this.page.attach(this),this.state=this.page.getState(),this.state.dataSetMetas=Qe.getInstance().getFacade().getDataSetMetas(),this.page.setState(this.state)}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.NeedKiTraining:this.startTraining();break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state);break;case n.ChangeToRefferring:Qe.getInstance().changeTo(new Y(!0))}}},{key:"startTraining",value:function(){var e=this.state.trainingParameter;void 0===e.slidingWindowStep&&void 0===e.slidingWindowSize&&void 0===e.trainingDataPercentage?Qe.getInstance().getFacade().applyModel(e.dataSets,e.imputator,e.classifier,e.scaler,e.features):void 0===e.slidingWindowStep&&void 0===e.slidingWindowSize?Qe.getInstance().getFacade().applyModel(e.dataSets,e.imputator,e.classifier,e.scaler,e.features,e.trainingDataPercentage):void 0===e.slidingWindowStep?Qe.getInstance().getFacade().applyModel(e.dataSets,e.imputator,e.classifier,e.scaler,e.features,e.trainingDataPercentage,e.slidingWindowSize):Qe.getInstance().getFacade().applyModel(e.dataSets,e.imputator,e.classifier,e.scaler,e.features,e.trainingDataPercentage,e.slidingWindowSize,e.slidingWindowStep)}}]),e}(),R=function(){function e(t){Object(r.a)(this,e),this.page=void 0,this.state=void 0,this.page=new k,this.page.attach(this),this.state=this.page.getState(),this.state.currentProject=t,this.SetDataRows()}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state);break;case n.ChangeToCreation:Qe.getInstance().changeTo(new x)}}},{key:"SetDataRows",value:function(){var e=this;this.state.dataSetMetas=Qe.getInstance().getFacade().getDataSetMetas(),Qe.getInstance().getFacade().loadProject(this.state.currentProject.projectID);var t=Qe.getInstance().getFacade().getDataSetMetas();this.state.currentDataSets=[];for(var a=0;a<t.length;a++){var s=Qe.getInstance().getFacade().getDataRows(t[a].dataSetID).dataRows;this.state.currentDataSets.push({dataSetID:t[a].dataSetID,rows:s}),this.page.setState(this.state)}this.state.currentState=n.SetDataRows,this.page.setState(this.state),this.state=this.page.getState();var r=setInterval((function(){if(e.state.currentState!==n.ChangeToCreation){e.state.dataSetMetas=Qe.getInstance().getFacade().getDataSetMetas(),Qe.getInstance().getFacade().loadProject(e.state.currentProject.projectID);var t=Qe.getInstance().getFacade().getDataSetMetas();e.state.currentDataSets=[];for(var a=0;a<t.length;a++){var s=Qe.getInstance().getFacade().getDataRows(t[a].dataSetID).dataRows;e.state.currentDataSets.push({dataSetID:t[a].dataSetID,rows:s})}console.log(e.state.currentDataSets),e.state.currentState=n.SetDataRows,e.page.setState(e.state),e.state=e.page.getState()}else clearInterval(r)}),2021)}}]),e}(),A=(a(71),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return console.log(Qe.getInstance().getText().title),Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"explorerTitle",children:Qe.getInstance().getText().title})})}}]),a}(c.a.Component)),M=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={qr:""},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:this.props.qr,alt:"qrcode",style:{width:"auto"}})})}}]),a}(o.Component),P=(a(72),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={link:""},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"linktext",children:[Object(h.jsx)("div",{className:"linktext1",children:Object(h.jsx)("p",{className:"text",children:a.T_LINK_DESCRIPTION_DE})}),Object(h.jsx)("a",{className:"text",href:this.props.link,type:"link",children:this.props.link})]})}}]),a}(o.Component));P.T_LINK_DESCRIPTION_DE="Bitte scannen Sie den QR-Code oder folgen Sie dem Link, um Daten zu erfassen";a(73);var U=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={pageChangeToVisu:function(){}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return e.props.pageChangeToVisu()},className:"ctv-btn",type:"button",children:a.T_BUTTON_NEXT_DE})})}}]),a}(o.Component);U.T_BUTTON_NEXT_DE="Zur Visualisierungsseite";a(74);var F=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={pageNewProject:function(e){},pageChangeToVisu:function(){},disabled:!0,qr:"",link:""},e.state={click:!1,projectName:""},e.changeProjectName=function(t){e.setState({projectName:t.target.value})},e.handleCreate=function(){e.setState({click:!0}),e.props.pageNewProject(e.state.projectName)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"newProject",children:[Object(h.jsx)("input",{type:"text",value:this.state.projectName,onChange:this.changeProjectName,placeholder:"Neuen Projektnamen eingeben",disabled:this.props.disabled}),Object(h.jsx)("button",{onClick:function(){return e.handleCreate()},className:"newProject-button",id:"new",disabled:this.props.disabled,children:"Neues Projekt"}),this.state.click?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)(M,{qr:this.props.qr}),Object(h.jsx)(U,{pageChangeToVisu:this.props.pageChangeToVisu}),Object(h.jsx)(P,{link:this.props.link})]}):null]})}}]),a}(o.Component),B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={currentProject:{projectID:-1,projectName:"null",AIModelID:[-1]},pageLoadModel:function(e){}},e.state={chosenmodelID:-1},e.handleChange=function(t){e.setState({chosenmodelID:t.target.value})},e}return Object(i.a)(a,[{key:"handleChoose",value:function(){-1===this.state.chosenmodelID?v.NotificationManager.error("Sie haben noch kein Modell gew\xe4hlt!","",3e3):this.props.pageLoadModel(this.state.chosenmodelID)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{children:"Modell-Liste"}),Object(h.jsxs)("select",{onChange:this.handleChange,children:[Object(h.jsx)("option",{children:"Modell ausw\xe4hlen"}),this.props.currentProject.AIModelID.map((function(e){return Object(h.jsxs)("option",{value:e,children:["Modell",e]},e)}))]}),Object(h.jsx)("button",{onClick:function(){return e.handleChoose()},className:"btn",children:"Gew\xe4hltes Modell laden (zur Auslieferungsseite)"})]})}}]),a}(o.Component),W=(a(75),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={projectData:[{projectID:-1,projectName:"null",AIModelID:[-1]}],pageSetCurrentprojekt:function(e){},pageLoadModel:function(e){},pageLoadProjekt:function(e){},pageChangeToVisu:function(){},qr:"",link:""},e.state={value:null,click:!1,loadclick:!1,currentProject:{projectID:-1,projectName:"",AIModelID:[]}},e.handleChange=function(t){e.setState({value:t.target.value})},e}return Object(i.a)(a,[{key:"handleChoose",value:function(){var e=this;null===this.state.value?v.NotificationManager.error("Sie haben noch kein Projekt gew\xe4hlt","",3e3):this.props.projectData.map((function(t){if(Number(e.state.value)===t.projectID)if(console.log(t),0!==t.AIModelID.length){for(var a=0;a<e.props.projectData.length;a++)if(t.projectID===e.props.projectData[a].projectID){e.setState({currentProject:t}),e.props.pageSetCurrentprojekt(t);break}e.setState({click:!0})}else e.setState({click:!1}),v.NotificationManager.error("Es gibt noch kein KI-Modell in diesem Projekt!","",3e3);return t}))}},{key:"handleLoad",value:function(){var e=this;null===this.state.value?v.NotificationManager.error("Sie haben noch kein Projekt ausgew\xe4hlt","",3e3):this.props.projectData.map((function(t){return Number(e.state.value)===t.projectID&&(e.props.pageLoadProjekt(t),e.setState({loadclick:!0})),t}))}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("section",{className:"projectlist",children:[Object(h.jsx)("label",{children:"Projektliste"}),Object(h.jsxs)("select",{onChange:this.handleChange,children:[Object(h.jsx)("option",{children:"Projekt w\xe4hlen"}),this.props.projectData.map((function(e){return Object(h.jsx)("option",{value:e.projectID,children:e.projectName},e.projectID)}))]}),Object(h.jsx)("button",{onClick:function(){return e.handleChoose()},className:"pl-btn",type:"button",children:"Modellliste laden"}),Object(h.jsx)("button",{onClick:function(){return e.handleLoad()},className:"pl-btn",type:"button",children:"Projekt laden"}),this.state.loadclick?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)(M,{qr:this.props.qr}),Object(h.jsx)(U,{pageChangeToVisu:this.props.pageChangeToVisu})," ",Object(h.jsx)(P,{link:this.props.link})]}):null,this.state.click?Object(h.jsxs)("div",{children:[" ",Object(h.jsx)(B,{pageLoadModel:this.props.pageLoadModel,currentProject:this.state.currentProject})]}):null]})}}]),a}(o.Component)),G=(a(76),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={disabled:!0,projectData:[],pageSetCurrentprojekt:function(e){},pageLoadModel:function(e){},pageLoadProjekt:function(e){},pageChangeToVisu:function(){},qr:"",link:""},e.state={click:!1},e.handleCreate=function(){e.setState({click:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"loadProject",children:[Object(h.jsx)("button",{onClick:function(){return e.handleCreate()},className:"lp-btn",disabled:this.props.disabled,type:"button",children:a.T_BUTTON_OPEN_LOAD_DE}),this.state.click?Object(h.jsx)("div",{children:Object(h.jsx)(W,{link:this.props.link,pageChangeToVisu:this.props.pageChangeToVisu,pageLoadProjekt:this.props.pageLoadProjekt,qr:this.props.qr,pageLoadModel:this.props.pageLoadModel,projectData:this.props.projectData,pageSetCurrentprojekt:this.props.pageSetCurrentprojekt})}):null]})}}]),a}(o.Component));G.T_BUTTON_OPEN_LOAD_DE="Projekt und Modell w\xe4hlen";var z=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.languageCode="de",this.messages=[],this.projectData=[],this.currentProject={projectID:-1,projectName:"null",AIModelID:[]},this.chosenAIModel=void 0,this.adminData=void 0,this.aiUserData=void 0,this.labels=void 0,this.sessionID=void 0,this.qr="",this.wait=void 0,this.islogedIn=!1,this.link=""},q=(a(77),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={pageRegister:function(e,t,a){},pageLogin:function(e,t){}},e.state={openNewWindow:!1,username:"",email:"",password:""},e.openNewWindow=function(){e.setState({openNewWindow:!0})},e.changeUsername=function(t){e.setState({username:t.target.value})},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword=function(t){e.setState({password:t.target.value})},e.register=function(){e.setState({openNewWindow:!1}),e.props.pageRegister(e.state.username,e.state.email,e.state.password)},e.login=function(){e.setState({openNewWindow:!1}),e.props.pageLogin(e.state.email,e.state.password)},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"left",children:Object(h.jsx)("button",{className:"login-button",onClick:this.openNewWindow,type:"button",children:a.T_BUTTON_LOGIN_DE})}),this.state.openNewWindow&&Object(h.jsx)(N.a,{title:"Login",children:Object(h.jsx)("div",{className:"login-window",children:Object(h.jsxs)("form",{children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{className:"user",children:a.T_POPUP_LABEL_NAME_DE}),Object(h.jsx)("input",{type:"text",value:this.state.username,onChange:this.changeUsername})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{className:"mail",children:a.T_POPUP_LABEL_EMAIL_DE}),Object(h.jsx)("input",{type:"text",value:this.state.email,onChange:this.changeEmail})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{className:"password",children:a.T_POPUP_LABEL_PASSWORD_DE}),Object(h.jsx)("input",{type:"password",value:this.state.password,onChange:this.changePassword})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"login",onClick:this.login,type:"button",children:a.T_POPUP_BUTTON_LOGIN_DE}),Object(h.jsx)("button",{className:"register",onClick:this.register,type:"button",children:a.T_POPUP_BUTTON_REGISTER_DE})]})]})})})]})}}]),a}(o.Component));q.T_BUTTON_LOGIN_DE="Anmelden/Registrieren",q.T_POPUP_LABEL_NAME_DE="Benutzername",q.T_POPUP_LABEL_EMAIL_DE="E-Mail-Adresse",q.T_POPUP_LABEL_PASSWORD_DE="Passwort",q.T_POPUP_BUTTON_LOGIN_DE="Anmelden",q.T_POPUP_BUTTON_REGISTER_DE="Registrieren";var V=function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new z,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var e=Object(h.jsxs)("div",{children:[Object(h.jsx)(A,{}),Object(h.jsx)(q,{pageRegister:this.register.bind(this),pageLogin:this.login.bind(this)}),Object(h.jsx)(F,{disabled:!this.state.islogedIn,pageNewProject:this.createNewProject.bind(this),qr:this.state.qr,link:this.state.link,pageChangeToVisu:this.changetovisu.bind(this)}),Object(h.jsx)("br",{}),Object(h.jsx)(G,{disabled:!this.state.islogedIn,projectData:this.state.projectData,pageSetCurrentprojekt:this.setCurrentProjekt.bind(this),pageLoadModel:this.loadmodel.bind(this),pageLoadProjekt:this.loadproject.bind(this),pageChangeToVisu:this.changetovisu.bind(this),qr:this.state.qr,link:this.state.link}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(e,document.getElementById("root"))}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"createNewProject",value:function(e){this.state.currentProject.projectName=e,this.state.currentState=n.NewProjekt,this.update()}},{key:"register",value:function(t,a,s){var r=this;/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z])+$/.test(a)?(this.state.adminData={name:t,email:a,password:s},this.state.currentState=n.Register,this.update(),this.state.wait.then((function(){var t;r.state.currentState!==n.LoginFail?(v.NotificationManager.success(e.T_WELCOME_DE+(null===(t=r.state.adminData)||void 0===t?void 0:t.email)),r.update()):v.NotificationManager.error(e.E_REG_ERROR_DE,"",3e3)}))):v.NotificationManager.error(e.E_MAIL_INVALID_DE,"",3e3)}},{key:"login",value:function(t,a){var s=this;this.state.adminData={name:"",email:t,password:a},this.state.currentState=n.Login,this.update(),this.state.wait.then((function(){var t;s.state.currentState!==n.LoginFail?(v.NotificationManager.success(e.T_WELCOME_DE+(null===(t=s.state.adminData)||void 0===t?void 0:t.email)),s.update()):v.NotificationManager.error(e.E_LOGIN_ERROR_DE,"",3e3)}))}},{key:"loadproject",value:function(e){this.state.currentProject=e,this.state.currentState=n.LoadProject,this.update()}},{key:"setCurrentProjekt",value:function(e){this.state.currentProject=e,this.update()}},{key:"changetovisu",value:function(){this.state.currentState=n.ChangeToVisual,this.notify()}},{key:"loadmodel",value:function(e){this.state.chosenAIModel=e,this.state.currentState=n.LoadModel,this.update()}},{key:"setState",value:function(e){this.state=e,this.update()}}]),e}();V.T_WELCOME_DE="Wilkommen ",V.E_REG_ERROR_DE="Registrieren fehlgeschlagen!",V.E_MAIL_INVALID_DE="Email-Adresse nicht g\xfcltig",V.E_LOGIN_ERROR_DE="Login fehlgeschlagen!";var K,Q=a(25),Y=function(){function e(t){var a=this;(Object(r.a)(this,e),this.page=void 0,this.state=void 0,this.page=new V,this.page.attach(this),this.state=this.page.getState(),this.update(),t)&&(this.state.projectData=[],Qe.getInstance().getFacade().getProjectMetas().then((function(e){a.state.projectData=e,a.page.setState(a.state)})),this.state.islogedIn=!0,this.page.setState(this.state))}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),console.log("controller update: "+this.state.currentState.toString()),this.state.currentState){case n.LoadProject:this.loadProject();break;case n.Register:this.register();break;case n.Login:this.login();break;case n.NewProjekt:this.createNewProject();break;case n.LoadModel:this.loadModel();break;case n.SetLanguage:console.log(Qe.getInstance().setLanguage(this.state.languageCode));break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state);break;case n.ChangeToVisual:Qe.getInstance().changeTo(new R(this.state.currentProject));break;case n.ChangeToDelivery:this.loadModel()}}},{key:"login",value:function(){var e=this,t=this.state.adminData,a=Qe.getInstance().getFacade().loginAdmin(t.email,t.password);this.state.wait=a,this.state.currentState=n.waitForDB,this.page.setState(this.state),a.then((function(t){t?(e.state.projectData=[],Qe.getInstance().getFacade().getProjectMetas().then((function(t){console.log(t),e.state.projectData=t,e.page.setState(e.state)})),e.state.islogedIn=!0):e.state.currentState=n.LoginFail;e.page.setState(e.state)})),a.catch((function(e){console.log(e)}))}},{key:"register",value:function(){var e=this,t=this.state.adminData,a=Qe.getInstance().getFacade().registerAdmin(t.name,t.email,t.password);this.state.wait=a,this.state.currentState=n.waitForDB,this.page.setState(this.state),a.then((function(t){t?(e.state.projectData=[],Qe.getInstance().getFacade().getProjectMetas().then((function(t){e.state.projectData=t,e.page.setState(e.state)})),e.state.islogedIn=!0):e.state.currentState=n.LoginFail;e.page.setState(e.state)}))}},{key:"createQR",value:function(){var e,t=new URL(document.URL);t.searchParams.append("SessionID",Qe.getInstance().getFacade().getSessionID().toString()),t.searchParams.append("isMiner","true"),t.searchParams.append("Admin",null===(e=this.state.adminData)||void 0===e?void 0:e.email);var a=t.toString(),s=new Q.QRCode;s.setTypeNumber(5),s.setErrorCorrectLevel(Q.ErrorCorrectLevel.L),s.addData(a),s.make(),this.state.qr=s.toDataURL(),this.state.link=a,this.state.currentState=n.SetQRC}},{key:"createNewProject",value:function(){var e=this,t=Qe.getInstance().getFacade().createProject(this.state.currentProject.projectName);this.state.wait=t,this.state.currentState=n.waitForDB,this.page.setState(this.state),t.then((function(t){t?(e.createQR(),Qe.getInstance().getFacade().getProjectMetas().then((function(t){e.state.projectData=t,e.page.setState(e.state)}))):e.state.currentState=n.LoadError;e.page.setState(e.state)}))}},{key:"loadProject",value:function(){var e=this,t=this.state.currentProject.projectID,a=Qe.getInstance().getFacade().loadProject(t);this.state.wait=a,this.state.currentState=n.waitForDB,this.page.setState(this.state),a.then((function(t){t?e.createQR():e.state.currentState=n.LoadError,e.page.setState(e.state)}))}},{key:"loadModel",value:function(){var e=this,t=this.state.currentProject.projectID,a=Qe.getInstance().getFacade().loadProject(t);this.state.wait=a,this.state.currentState=n.waitForDB,this.page.setState(this.state),a.then((function(t){if(t){var a=new S(e.state.chosenAIModel);Qe.getInstance().changeTo(a)}else e.state.currentState=n.LoadError})),this.page.setState(this.state)}}]),e}(),Z=a(4),H=a.n(Z),X=a(8);!function(e){e[e.EXE=0]="EXE",e[e.WEB_APP=1]="WEB_APP"}(K||(K={}));var J=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"getLanguageMetas",value:function(){var e=Object(X.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("get_language_metas");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLanguage",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("load_language",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createProject",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("create_project",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createDataSet",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("create_data_set",t);case 2:return a=e.sent.dataSetID,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataPoint",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("send_data_point",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataPointsAgain",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("send_data_points_again",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadProject",value:function(){var t=Object(X.a)(H.a.mark((function t(a){var n,s;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new Date).getMilliseconds(),t.next=3,this.sendRequest("load_project",a);case 3:return null!=(s=t.sent).projectID&&(e.lastProjectUpdate=n),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getProjectMetas",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("get_project_metas",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDataSet",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("delete_data_set",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerAdmin",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("register_admin",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerDataminer",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("register_dataminer",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerAIModelUser",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("register_ai_model_user",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginAdmin",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("login_admin",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("create_label",t);case 2:return a=e.sent.labelID,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("set_label",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("delete_label",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var t=Object(X.a)(H.a.mark((function t(a,n){var s,r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={"Content-Type":"application/json"},t.next=3,fetch(e.databasePHPURL+"?action="+a,{method:"POST",headers:s,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){r=e})).catch((function(){r=!1}));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}]),e}();J.databasePHPURL="/src/database/index.php",J.lastProjectUpdate=0;var $=function(){function e(t){Object(r.a)(this,e),this.language=void 0,this.language=t}return Object(i.a)(e,[{key:"getLanguageCode",value:function(){return this.language.code}},{key:"getMessage",value:function(){return this.language}},{key:"setLanguage",value:function(e){return this.language=e,!0}}]),e}(),ee=a(38),te=a.n(ee),ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:te.a.title,children:"Datenerfassung"})})}}]),a}(o.Component),ne=(a(91),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={pageChangeSettings:function(e){},availableSensorTypes:[]},e.state={name:"",usedSensorTypes:[],leadTime:"",collectionTime:""},e.changeLeadtime=function(t){e.setState({leadTime:t.target.value})},e.changeCollectionTime=function(t){e.setState({collectionTime:t.target.value})},e.changeName=function(t){e.setState({name:t.target.value})},e.handleCheckBoxChange=function(t){for(var a=e.props.availableSensorTypes,n=0;n<a.length;n++)if(a[n].sensorTypID==+t.target.value)return a[n].chosen=!a[n].chosen,void e.setState({availableSensorTypes:a})},e.submit=function(){if(parseInt(e.state.leadTime)>=0&&parseInt(e.state.collectionTime)>=0){for(var t=e.props.availableSensorTypes,a=[],n=0;n<t.length;n++)1==t[n].chosen&&a.push(t[n].sensorTypID);if(e.setState({usedSensorTypes:a}),isNaN(+e.state.leadTime)||isNaN(+e.state.collectionTime))return void v.NotificationManager.error("Die Eingabe der Zeit ist ung\xfcltig. Es sind nur ganze Zahlen erlaubt");var s=e.state.name,r=+e.state.leadTime,i=+e.state.collectionTime;e.props.pageChangeSettings({newDataSetName:s,usedSensorTypes:a,waitTime:r,readTime:i,availableSensorTypes:t})}else v.NotificationManager.error("Die Eingabe ist ung\xfcltig")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"input",children:Object(h.jsxs)("form",{children:["Aufnahmeparameter einstellen",Object(h.jsx)("br",{}),"Vorlaufzeit:",Object(h.jsx)("input",{type:"leadTime",value:this.state.leadTime,onChange:this.changeLeadtime.bind(this)}),"s",Object(h.jsx)("br",{}),"Aufnahmedauer:",Object(h.jsx)("input",{type:"collectionTime",value:this.state.collectionTime,onChange:this.changeCollectionTime.bind(this)}),"s",Object(h.jsx)("br",{}),"Datenname:",Object(h.jsx)("input",{type:"datenname",value:this.state.name,onChange:this.changeName.bind(this)}),Object(h.jsx)("br",{}),"Sensoren:",this.props.availableSensorTypes.map((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"checkbox",type:"checkbox",value:t.sensorTypID,checked:t.chosen,onChange:function(t){return e.handleCheckBoxChange(t)}}),t.sensorType]})})),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"button",onClick:this.submit,className:"submit-btn",children:"Start"})]})})}}]),a}(o.Component)),se=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.messageIDs=[],this.messages=[],this.languageCode="de",this.recordingSettings={newDataSetName:"",usedSensorTypes:[0],waitTime:-1,readTime:-1,availableSensorTypes:[]},this.leadTime=3,this.collectionTime=5,this.name="",this.wait=void 0},re=function(){function e(t){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new se,this.update(),v.NotificationManager.success(t)}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var e=Object(h.jsxs)("div",{children:[Object(h.jsx)(ae,{}),Object(h.jsx)(ne,{availableSensorTypes:this.state.recordingSettings.availableSensorTypes,pageChangeSettings:this.changeSettings.bind(this)}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(e,document.getElementById("root"))}},{key:"changeSettings",value:function(e){this.state.recordingSettings=e,this.state.currentState=n.ChangeToDataCollection,this.notify()}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}}]),e}(),ie=a(39),oe=a.n(ie),ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:oe.a.title,children:a.T_TITLE_DE})})}}]),a}(o.Component);ce.T_TITLE_DE="Datenerfassung";var ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={countdownNumber:5,chosenSensors:[1]},e}return Object(i.a)(a,[{key:"render",value:function(){var e;e=this.props.countdownNumber>0?this.props.countdownNumber:"Aufnahme l\xe4uft!";var t=[];for(var a in this.props.chosenSensors)switch(a){case"0":t.push("Beschleunigungssensor");break;case"1":t.push("Gyroskop")}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Bereit machen zur Aufnahme!"}),Object(h.jsx)("h2",{children:e}),Object(h.jsx)("h2",{children:"Verwendete Sensoren:"}),t.map((function(e){return Object(h.jsx)("h4",{children:e})}))]})}}]),a}(o.Component),le=(a(92),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={dataRows:[{sensorType:1,datapoint:[{value:[5],relativeTime:5}]}],pageChangeToFinish:function(){}},e.state={diagrammData:{lineLabels:[],sensorRow:[],datavalue:[],time:[],showDiagram:!1,diagram:{},diagramLineLabels:{},diagramData:{},diagramOptions:{},color:["rgba(46,190,87,1)","rgba(68,24,232,1)","rgba(238,173,14,1)","rgba(178,34,34,1)","rgba(238, 130, 238,1)","rgba(0, 0, 0,1)","rgba(106, 90, 205,1)","rgba(238, 118, 0,1)","rgba(105, 105, 105,1)"],csscolor:["#2EBE57","#CC00FF","#EEAD0E","#B22222","#EE82EE","#000000","#6A5ACD","#EE7600","#696969"]}},e.submit=function(){e.props.pageChangeToFinish()},e}return Object(i.a)(n,[{key:"updateDiagramm",value:function(){var e=this.state.diagrammData;e.lineLabels=[],e.sensorRow=[],e.datavalue=[],e.time=[],e.showDiagram=!0;for(var t=[],a=0;a<this.props.dataRows.length;a++){this.state.diagrammData.sensorRow.push(this.props.dataRows[a].sensorType);for(var s=0;s<3;s++){for(var r=0;r<this.props.dataRows[a].datapoint.length;r++)t.push(this.props.dataRows[a].datapoint[r].value[s]);this.state.diagrammData.datavalue.push(t),t=[]}}for(r=0;r<this.props.dataRows[0].datapoint.length;r++)this.state.diagrammData.time.push(this.props.dataRows[0].datapoint[r].relativeTime);for(var i=[],o=[],c=0;c<3*this.state.diagrammData.sensorRow.length;c++){var u=".X",l=this.state.diagrammData.sensorRow[c/3|0],d="";switch(l){case 2:d=n.T_ACCELEROMETER_DE;break;case 3:d=n.T_GYROSCOPE_DE;break;case 4:d=n.T_MAGNETOMETER_DE}c%3===1&&(u=".Y"),c%3===2&&(u=".Z");var g={color:this.state.diagrammData.csscolor[c]};o.push(Object(h.jsxs)("span",{style:g,children:["\u25a0",d+u,Object(h.jsx)("br",{})]})),i.push({label:l+u,strokeColor:this.state.diagrammData.color[c],borderWidth:1,data:this.state.diagrammData.datavalue[c]})}var p={labels:this.state.diagrammData.time,datasets:i},f={datasetFill:!1,pointDotRadius:2,pointHitDetectionRadius:1,offsetGridLines:!1,pointDot:!1,title:{display:!0,text:"Chart.js bar Chart"},scales:{xAxes:[{ticks:{beginAtZero:!0,callback:function(e){if(Number.isInteger(e))return e},stepSize:1}}]}};(e=this.state.diagrammData).diagramData=p,e.lineLabels=o,e.diagramOptions=f}},{key:"render",value:function(){var e=a(23).Line;return this.updateDiagramm(),Object(h.jsxs)("div",{children:[this.state.diagrammData.lineLabels,Object(h.jsx)(e,{data:this.state.diagrammData.diagramData,options:this.state.diagrammData.diagramOptions,width:"400",height:"200",redraw:!0}),Object(h.jsx)("button",{className:"button",type:"button",onClick:this.submit,children:n.T_BUTTON_NEXT_DE})]})}}]),n}(o.Component));le.T_ACCELEROMETER_DE="Beschleunigungssensor",le.T_GYROSCOPE_DE="Gyroskop",le.T_MAGNETOMETER_DE="Magnetometer",le.T_BUTTON_NEXT_DE="Zur Abschlussseite";var he=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.messageIDs=[],this.messages=[],this.languageCode="de",this.leadTime=-1,this.usedSensorNames=[],this.dataRows=[{sensorType:1,datapoint:[{value:[5],relativeTime:5}]}],this.dataPoints=[],this.recordingSettings={newDataSetName:"null",usedSensorTypes:[-1],readTime:-1,waitTime:-1,availableSensorTypes:[{sensorTypID:-1,sensorType:"null",chosen:!1}]}},de=function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new he}return Object(i.a)(e,[{key:"update",value:function(){var e,t;this.notify();var a=Object(h.jsxs)("div",{children:[Object(h.jsx)(ce,{}),Object(h.jsx)(ue,{countdownNumber:null===(e=this.state.recordingSettings)||void 0===e?void 0:e.waitTime,chosenSensors:null===(t=this.state.recordingSettings)||void 0===t?void 0:t.usedSensorTypes}),Object(h.jsx)(le,{dataRows:this.state.dataRows,pageChangeToFinish:this.changeToFinish.bind(this)}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(a,document.getElementById("root"))}},{key:"changeToFinish",value:function(){this.state.currentState=n.ChangeToFinish,this.notify()}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"setState",value:function(e){this.state=e,this.update()}},{key:"getState",value:function(){return this.state}}]),e}(),ge=function(){function e(){Object(r.a)(this,e),this.checkList=[],this.currentSensors=[],this.facade=Qe.getInstance().getFacade(),this.waitTime=5,this.readTime=10,this.startTime=10,this.saving=!0,this.page=void 0,this.sensorTypes=[],this.dataPoints=[],this.dataRows=[]}return Object(i.a)(e,[{key:"setUpDataRead",value:function(e,t,a,n,s){var r=this;this.waitTime=a,this.readTime=n,this.saving=s,this.sensorTypes=e;for(var i=function(t){switch(e[t]){case 2:var a=new Accelerometer({frequency:60});r.currentSensors.push(a),a.addEventListener("reading",(function(n){r.getData(a,t,e[t])})),a.addEventListener("error",(function(e){console.log(e.error.name,e.error.message)}));break;case 3:var n=new Gyroscope({frequency:60});r.currentSensors.push(n),n.addEventListener("reading",(function(a){r.getData(n,t,e[t])})),n.addEventListener("error",(function(e){console.log(e.error.name,e.error.message)}));break;case 4:var s=new Magnetometer({frequency:60});r.currentSensors.push(s),s.addEventListener("reading",(function(a){r.getData(s,t,e[t])})),s.addEventListener("error",(function(e){console.log(e.error.name,e.error.message)}))}},o=0;o<e.length;o++)i(o);return this.facade.createDataSet(e,t)}},{key:"readData",value:function(e){var t=this;this.page=e;var a=e.getState();a.recordingSettings.usedSensorTypes=this.sensorTypes,a.currentState=n.waitForDB,e.setState(a);var s=setInterval((function(){if(t.waitTime=t.waitTime-1,a.recordingSettings.waitTime=t.waitTime,e.setState(a),0===t.waitTime){clearInterval(s),t.startTime=(new Date).getTime();for(var n=0;n<t.currentSensors.length;n++)t.currentSensors[n].start();var r=setInterval((function(){for(t.readTime=t.readTime-1;t.dataPoints.length>0;){var n=t.dataPoints.shift();a.dataPoints.push(n),t.checkList.push(Qe.getInstance().getFacade().sendDataPoint(n.rowId,{value:n.value,relativeTime:n.relativeTime})),e.setState(a)}if(0===t.readTime){clearInterval(r);for(var s=0;s<t.currentSensors.length;s++)t.currentSensors[s].stop();t.checkForErrors(a,e)}}),1e3)}}),1e3)}},{key:"checkForErrors",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var s,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(T.a)(this.checkList),e.prev=1,s.s();case 3:if((r=s.n()).done){e.next=11;break}return i=r.value,e.next=7,i;case 7:!e.sent&&(t.currentState=n.LoadError);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:a.setState(t);case 20:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveDatapointinRow",value:function(e){for(;this.dataRows.length-1<e.rowId;)this.dataRows.push({sensorType:-1,datapoint:[]});if(this.dataRows[e.rowId].sensorType=e.sensorType,this.dataRows[e.rowId].datapoint.push({value:e.value,relativeTime:e.relativeTime}),void 0!==this.page){var t=this.page.getState();t.dataRows=this.dataRows,this.page.setState(t)}}},{key:"getWaitTime",value:function(){return this.waitTime}},{key:"getReadTime",value:function(){return this.readTime}},{key:"getData",value:function(e,t,a){if(void 0!==e.x&&void 0!==e.y&&void 0!==e.z){var n={rowId:t,sensorType:a,value:[e.x,e.y,e.z],relativeTime:((new Date).getTime()-this.startTime)/1e3};this.dataPoints.push(n),this.saveDatapointinRow(n)}}},{key:"getAvailableSensors",value:function(){var e=Object(X.a)(H.a.mark((function e(){var t,a,n,s,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=new Accelerometer({frequency:60}),n=this.existSensor(a),s=new Gyroscope({frequency:60}),r=this.existSensor(s),e.next=7,n;case 7:if(!e.sent){e.next=9;break}t.push({sensorTypID:2,sensorType:"Accelerometer"});case 9:return e.next=11,r;case 11:if(!e.sent){e.next=13;break}t.push({sensorTypID:3,sensorType:"Gyroscope"});case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"existSensor",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,t.addEventListener("reading",(function(e){a=!0,t.stop()})),t.start(),e.next=5,this.wait(1e3);case 5:return t.stop(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wait",value:function(){var e=Object(X.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.messageIDs=[],this.messages=[],this.languageCode="de",this.recordingSettings={newDataSetName:"",usedSensorTypes:[0],waitTime:-1,readTime:-1,availableSensorTypes:[]},this.leadTime=3,this.collectionTime=5,this.name="",this.wait=void 0,this.aiUserData={name:"NULL",result:" "}},fe=(a(93),function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new pe,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var t=Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"title",children:e.PAGE_TITLE}),Object(h.jsx)("h1",{className:"wait",children:e.CLASSIFY}),Object(h.jsx)(v.NotificationContainer,{})]});" "!==this.state.aiUserData.result&&(t=Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"title",children:"Ergebnis"}),Object(h.jsx)("h1",{children:this.state.aiUserData.result}),Object(h.jsx)("button",{className:"button",onClick:this.reloadPage,children:e.RELOAD}),Object(h.jsx)(v.NotificationContainer,{})]})),null!==document.getElementById("root")&&D.a.render(t,document.getElementById("root"))}},{key:"reloadPage",value:function(){window.location.reload()}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}}]),e}());fe.PAGE_TITLE="Ergebnis",fe.CLASSIFY="Klassifiziere, bitte warten",fe.RELOAD="Erneut klassifizieren";var ve=function(){function e(t){Object(r.a)(this,e),this.modelID=void 0,this.sensorManager=void 0,this.page=void 0,this.state=void 0,this.urlParams=void 0,this.dataSetID=0;var a=window.location.search;this.urlParams=new URLSearchParams(a),this.sensorManager=new ge,this.page=new re("Willkomen!"),this.page.attach(this),this.state=this.page.getState(),Qe.getInstance().getFacade().registerDataminer(e.AI_MODEL_USER_NAME,-1),this.modelID=t,this.setUpSensorShown(),this.page.setState(this.state),this.update()}return Object(i.a)(e,[{key:"setUpSensorShown",value:function(){var e,t=this.urlParams.get("sensorTypes").split(",").map((function(e){return+e})),a="Sie ben\xf6tigen folgenede Sensoren: ",n=Object(T.a)(t);try{for(n.s();!(e=n.n()).done;){switch(e.value){case 2:a+="Beschleunigungssensor ";break;case 3:a+="Gyroskop "}}}catch(s){n.e(s)}finally{n.f()}this.state.recordingSettings.availableSensorTypes.push({sensorTypID:-1,sensorType:a,chosen:!0})}},{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.ChangeToDataCollection:this.start();break;case n.ChangeToFinish:this.changeToFinish();break;case n.ClassifyResult:this.classifyResult();break;case n.SetLanguage:this.page.setState(Qe.getInstance().setLanguage(this.state.languageCode));break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state)}}},{key:"start",value:function(){var e=Object(X.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.urlParams.get("sensorTypes").split(",").map((function(e){return+e})),"Undefined",a=this.state.recordingSettings.waitTime,n=this.state.recordingSettings.readTime,e.next=6,this.sensorManager.setUpDataRead(t,"Undefined",a,n,!1);case 6:this.dataSetID=e.sent,this.page.detach(this),this.page=new de,this.page.attach(this),this.state.leadTime=this.sensorManager.getWaitTime(),this.state=this.page.getState(),this.sensorManager.readData(this.page);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeToFinish",value:function(){this.page.detach(this),this.page=new fe,this.page.attach(this),this.state=this.page.getState(),this.state.dataRows=Qe.getInstance().getFacade().getCurrentDataRows().dataRows,this.state.currentState=n.ClassifyResult,this.page.setState(this.state)}},{key:"classifyResult",value:function(){Qe.getInstance().getFacade().classify(+this.urlParams.get("modelID"),this.dataSetID,this.callback.bind(this))}},{key:"callback",value:function(e){this.state.aiUserData.result=void 0===e?"Fehler bei der Klassifizierung":e,this.state.currentState=n.waitForDB,this.page.setState(this.state)}}]),e}();ve.AI_MODEL_USER_NAME="KI-Modell-Anwender";var be=function(){function e(t,a,n,s,i){Object(r.a)(this,e),this.id=void 0,this.MACADDRESS=void 0,this.name=void 0,this.firmware=void 0,this.generation=void 0,this.deviceType=void 0,this.id=t<0?-1:t,this.MACADDRESS=a,this.name=n,this.firmware=s,this.generation=i}return Object(i.a)(e,[{key:"setDeviceID",value:function(e){return-1===this.id&&e>=0&&(this.id=e,!0)}},{key:"getID",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getMACADDRESS",value:function(){return this.MACADDRESS}},{key:"getFirmware",value:function(){return this.firmware}},{key:"getGeneration",value:function(){return this.generation}}],[{key:"loadDevice",value:function(e,t){return null!=t?"Smartphone"===t.deviceType?new me(e,t.MACADRESS,t.deviceName,t.firmware,t.generation):"Desktop"===t.deviceType?new je(e,t.MACADRESS,t.deviceName,t.firmware,t.generation):new me(e,t.MACADRESS,t.deviceName,t.firmware,t.generation):new me(e,"","","","")}}]),e}(),me=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).deviceType="Smartphone",e}return a}(be),je=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).deviceType="Desktop",e}return a}(be),De=function(){function e(t){Object(r.a)(this,e),this.id=void 0,this.id=t}return Object(i.a)(e,[{key:"getID",value:function(){return this.id}}]),e}(),Ee=function(){function e(t,a){Object(r.a)(this,e),this.value=void 0,this.relativeTime=void 0,this.value=t,this.relativeTime=a}return Object(i.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"getRelativeTime",value:function(){return this.relativeTime}}]),e}(),Se=function(){function e(t,a,n){if(Object(r.a)(this,e),this.id=void 0,this.datapoint=[],this.sensor=void 0,this.sensor=t,this.id=a,null!=n)for(var s=0;s<n.length;s++)this.datapoint.push(new Ee(n[s].value,n[s].relativeTime))}return Object(i.a)(e,[{key:"getID",value:function(){return this.id}},{key:"addDatapoint",value:function(e){for(var t=0;t<this.datapoint.length;t++)if(this.datapoint[t].getValue().length!==e.value.length||this.datapoint[t].getRelativeTime()===e.relativeTime)return!1;return!(0===e.value.length||e.relativeTime<0)&&(this.datapoint.push(new Ee(e.value,e.relativeTime)),!0)}},{key:"getDataRow",value:function(){for(var e=[],t=0;t<this.datapoint.length;t++)e.push({value:this.datapoint[t].getValue(),relativeTime:this.datapoint[t].getRelativeTime()});return{sensorType:this.sensor.SensorTypeID,datapoint:e}}}]),e}(),Te=function(){function e(t){Object(r.a)(this,e),this.start=void 0,this.end=void 0,t.start>=0?this.start=t.start:this.start=0,t.end>=this.start?this.end=t.end:this.end=this.start}return Object(i.a)(e,[{key:"setTimeSpan",value:function(e){return e.end>=e.start&&e.start>=0&&(this.start=e.start,this.end=e.end,!0)}},{key:"getStart",value:function(){return this.start}},{key:"getEnd",value:function(){return this.end}}]),e}(),Oe=function(){function e(t,a,n){Object(r.a)(this,e),this.name=void 0,this.labelID=void 0,this.timeSpan=void 0,this.name=t,this.labelID=a,this.timeSpan=new Te(n)}return Object(i.a)(e,[{key:"setLabel",value:function(e,t){return!!this.timeSpan.setTimeSpan(e)&&(null!=t&&(this.name=t),!0)}},{key:"getLabel",value:function(){return{name:this.name,labelID:this.labelID,span:{start:this.timeSpan.getStart(),end:this.timeSpan.getEnd()}}}},{key:"getID",value:function(){return this.labelID}}]),e}(),_e=function(){function e(t,a,n,s,i){if(Object(r.a)(this,e),this.generateDate=void 0,this.id=void 0,this.name=void 0,this.dataRow=[],this.label=[],null!=s)for(var o=0;o<s.length;o++)this.dataRow.push(new Se({SensorTypeID:s[o].sensorType},s[o].dataRowID,s[o].dataRow));if(null!=i)for(var c=0;c<i.length;c++)void 0!==i[c].span?this.label.push(new Oe(i[c].name,i[c].labelID,i[c].span)):void 0!==i[c].start&&void 0!==i[c].end&&this.label.push(new Oe(i[c].name,i[c].labelID,{start:i[c].start,end:i[c].end}));this.generateDate=null!=n?n:(new Date).getTime(),this.id=t,this.name=a}return Object(i.a)(e,[{key:"getID",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"addDatapoint",value:function(e,t){for(var a=0;a<this.dataRow.length;a++)if(this.dataRow[a].getID()===e)return this.dataRow[a].addDatapoint(t);return!1}},{key:"getDataRows",value:function(){for(var e=[],t=0;t<this.dataRow.length;t++)e.push(this.dataRow[t].getDataRow());return e}},{key:"createLabel",value:function(e,t,a){if(e<0||t.start<0||t.end<t.start)return!1;for(var n=0;n<this.label.length;n++)if(this.label[n].getID()===e)return!1;return this.label.push(new Oe(a,e,t)),!0}},{key:"setLabel",value:function(e,t,a){for(var n=0;n<this.label.length;n++)if(this.label[n].getID()===e)return this.label[n].setLabel(t,a);return!1}},{key:"deleteLabel",value:function(e){for(var t=0;t<this.label.length;t++)if(this.label[t].getID()===e)return this.label.splice(t,1),!0;return!1}},{key:"getLabels",value:function(){for(var e=[],t=0;t<this.label.length;t++)e.push(this.label[t].getLabel());return e}}]),e}(),ye=function(){function e(t){Object(r.a)(this,e),this.id=void 0,this.connectedUser=[],this.id=t<0?-1:t}return Object(i.a)(e,[{key:"connectUser",value:function(e){for(var t=0;t<this.connectedUser.length;t++)if(this.connectedUser[t].getID()===e.getID())return!1;return this.connectedUser.push(e),!0}},{key:"disconnectUser",value:function(e){for(var t=0;t<this.connectedUser.length;t++)if(this.connectedUser[t].getID()===e)return this.connectedUser.splice(t,1),!0;return!1}},{key:"getConnectedUsers",value:function(){for(var e=[],t=0;t<this.connectedUser.length;t++)e.push({userID:this.connectedUser[t].getID(),userName:this.connectedUser[t].getName()});return e}},{key:"getID",value:function(){return this.id}}]),e}(),ke=function(){function e(t,a,n,s){if(Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.session=void 0,this.aiModel=[],this.dataSet=[],this.currentDataSet=void 0,this.id=t,this.name=n,this.session=new ye(a),void 0!==s){if(void 0!==s.aiModelID){var i,o=Object(T.a)(s.aiModelID);try{for(o.s();!(i=o.n()).done;){var c=i.value;this.aiModel.push(new De(c))}}catch(g){o.e(g)}finally{o.f()}}var u,l=Object(T.a)(s.dataSet);try{for(l.s();!(u=l.n()).done;){var h,d=u.value;h=new _e(d.dataSetID,d.dataSetName,d.generateDate,d.dataRows,d.label),this.dataSet.push(h)}}catch(g){l.e(g)}finally{l.f()}}}return Object(i.a)(e,[{key:"getName",value:function(){return this.name}},{key:"deleteDataSet",value:function(e){for(var t=0;t<this.dataSet.length;t++)if(this.dataSet[t].getID()===e)return this.dataSet.splice(t,1),null!=this.currentDataSet&&this.currentDataSet.getID()===e&&delete this.currentDataSet,!0;return!1}},{key:"getID",value:function(){return this.id}},{key:"createDataSet",value:function(e,t,a,n){if(n.length<=0||e<0||t.length<=0||null!=a&&a<0)return!1;for(var s=0;s<this.dataSet.length;s++)if(this.dataSet[s].getID()===e)return!1;var r=new _e(e,t,a,n);return this.dataSet.push(r),this.currentDataSet=r,!0}},{key:"getCurrentDataSetID",value:function(){return null!=this.currentDataSet?this.currentDataSet.getID():-1}},{key:"addDatapoint",value:function(e,t){return null!=this.currentDataSet&&this.currentDataSet.addDatapoint(e,t)}},{key:"getDataSetMetas",value:function(){var e,t=[],a=Object(T.a)(this.dataSet);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push({dataSetID:n.getID(),dataSetName:n.getName()})}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"getDataRows",value:function(e){for(var t=0;t<this.dataSet.length;t++)if(this.dataSet[t].getID()===e)return this.currentDataSet=this.dataSet[t],{dataRows:this.dataSet[t].getDataRows()};return{dataRows:[]}}},{key:"getCurrentDataRows",value:function(){return null!=this.currentDataSet?{dataRows:this.currentDataSet.getDataRows()}:{dataRows:[]}}},{key:"getSessionID",value:function(){return this.session.getID()}},{key:"createLabel",value:function(e,t,a){return null!=this.currentDataSet&&this.currentDataSet.createLabel(e,t,a)}},{key:"setLabel",value:function(e,t,a){return null!=this.currentDataSet&&this.currentDataSet.setLabel(e,t,a)}},{key:"deleteLabel",value:function(e){return null!=this.currentDataSet&&this.currentDataSet.deleteLabel(e)}},{key:"getLabels",value:function(){return null!=this.currentDataSet?{labels:this.currentDataSet.getLabels()}:{labels:[]}}}]),e}(),we=function(){function e(t,a,n){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.device=void 0,this.currentProject=void 0,this.dataSetID=void 0,this.id=t<0?-1:t,this.device=a,this.name=void 0!==n?n:this.device.getName(),this.dataSetID=-1}return Object(i.a)(e,[{key:"getCurrentDataSetID",value:function(){return null!=this.currentProject?this.currentProject.getCurrentDataSetID():this.dataSetID}},{key:"setCurrentDataSetID",value:function(e){this.name===ve.AI_MODEL_USER_NAME?this.dataSetID=e:this.dataSetID=-1}},{key:"getCurrentProjectID",value:function(){return null!=this.currentProject?this.currentProject.getID():-1}},{key:"addDatapoint",value:function(e,t){return null!=this.currentProject&&this.currentProject.addDatapoint(e,t)}},{key:"getDataRows",value:function(e){return null!=this.currentProject?this.currentProject.getDataRows(e):{dataRows:[]}}},{key:"getCurrentDataRows",value:function(){return null!=this.currentProject?this.currentProject.getCurrentDataRows():{dataRows:[]}}},{key:"getSessionID",value:function(){return null!=this.currentProject?this.currentProject.getSessionID():-1}},{key:"createDataSet",value:function(e,t,a,n){return null!=this.currentProject?this.currentProject.createDataSet(e,t,a,n):(this.setCurrentDataSetID(e),!1)}},{key:"deleteDataSet",value:function(e){return null!=this.currentProject&&this.currentProject.deleteDataSet(e)}},{key:"createLabel",value:function(e,t,a){return null!=this.currentProject&&this.currentProject.createLabel(e,t,a)}},{key:"setLabel",value:function(e,t,a){return null!=this.currentProject&&this.currentProject.setLabel(e,t,a)}},{key:"deleteLabel",value:function(e){return null!=this.currentProject&&this.currentProject.deleteLabel(e)}},{key:"getLabels",value:function(){return null!=this.currentProject?this.currentProject.getLabels():{labels:[]}}},{key:"getDataSetMetas",value:function(){return void 0!==this.currentProject?this.currentProject.getDataSetMetas():[]}},{key:"setName",value:function(e){this.name=e}},{key:"getName",value:function(){return this.name}},{key:"setDevice",value:function(e){this.device=e}},{key:"getDevice",value:function(){return{device:this.device}}},{key:"getID",value:function(){return this.id}}]),e}(),Ie=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e,n,s,i,o){var c;return Object(r.a)(this,a),(c=t.call(this,e,be.loadDevice(n,o),s)).email=void 0,c.project=[],c.email=i,c}return Object(i.a)(a,[{key:"loadProject",value:function(e){var t=this.existProject(e.projectID),a=new ke(e.projectID,e.sessionID,e.projectName,e.projectData);return this.currentProject=a,-1===t?this.project.push(a):this.project[t]=a,!0}},{key:"createProject",value:function(e,t,a){if(-1===this.existProject(e)){var n=new ke(e,t,a);return this.project.push(n),this.currentProject=n,!0}return!1}},{key:"existProject",value:function(e){for(var t=0;t<this.project.length;t++)if(this.project[t].getID()===e)return t;return-1}},{key:"getEmail",value:function(){return this.email}}]),a}(we),Ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e,n,s){return Object(r.a)(this,a),t.call(this,e,be.loadDevice(n),s)}return Object(i.a)(a,[{key:"loadProject",value:function(e){return this.currentProject=new ke(e.projectID,e.sessionID,e.projectName,e.projectData),!0}}]),a}(we),Le=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e,n,s){return Object(r.a)(this,a),t.call(this,e,be.loadDevice(n),s)}return Object(i.a)(a,[{key:"loadProject",value:function(e){return this.currentProject=new ke(e.projectID,e.sessionID,e.projectName,e.projectData),!0}}]),a}(we),Ce=function(){function e(t){Object(r.a)(this,e),this.modelId=void 0,this.modelId=t}return Object(i.a)(e,[{key:"applyModel",value:function(t,a,n,s,r,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:128,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:64,l={dataSets:t,imputator:a,classifier:n,scaler:s,features:r,projectID:i,trainingDataPercentage:o,slidingWindowSize:c,slidingWindowStep:u};this.sendRequest(JSON.stringify(l),e.url+e.buildModel,console.log)}},{key:"classify",value:function(t,a){var n=JSON.stringify({classifier:this.modelId,dataSet:t});this.sendRequest(n,e.url+e.classify,a)}},{key:"sendRequest",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=new XMLHttpRequest;s.open("POST",t,!0),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t;try{t=JSON.parse(s.responseText)}catch(n){t=null}a(null==t?s.responseText:t)}else{if(406===s.status)throw new Error("Error in request data - not accepted by Server");s.send(e)}},n||s.setRequestHeader("Content-Type","application/json"),s.send(e)}}]),e}();Ce.url="../",Ce.buildModel="src/buildModel/",Ce.classify="src/classify/";var xe=a(41),Re=function(){function e(t,a){Object(r.a)(this,e),this.format=void 0,this.id=void 0,this.format=a,this.id=t}return Object(i.a)(e,[{key:"getAIModel",value:function(){var e,t=this.sendRequest({id:this.id,format:this.format,job:"get"});try{e=Object.keys(t).includes("url")}catch(a){e=!1}if(!e)throw new Error("Connection issue: "+t.status+": "+t.statusText);switch(this.format){case K.EXE:throw new Error("Not implemented.");case K.WEB_APP:return{url:t.url};default:throw new Error("Illegal delivery format.")}}},{key:"sendAIModel",value:function(e){var t=[];e.forEach((function(e){return t[t.length]={email:e}})),console.log({recipients:JSON.stringify(t),id:this.id,job:"send"});var a,n=this.sendRequest({recipients:JSON.stringify(t),id:this.id,job:"send"});try{a=Object.keys(n).includes("result")}catch(s){a=!1}return!!a&&n.result}},{key:"sendRequest",value:function(t){return new Promise((function(a,n){var s=new XMLHttpRequest;s.open("POST",e.url,!0),s.onreadystatechange=function(){4===s.readyState&&(200===s.status&&a(JSON.parse(s.responseText)),n({status:s.status,statusText:s.statusText}))},s.onerror=function(){n({status:this.status,statusText:s.statusText})};for(var r=0,i=Object.entries(e.headers);r<i.length;r++){var o=Object(xe.a)(i[r],2),c=o[0],u=o[1];s.setRequestHeader(c,u)}console.log(JSON.stringify(t)),s.send(JSON.stringify(t))})).then((function(e){return e}),(function(e){return e}))}},{key:"buildExecutable",value:function(){throw new Error("Not Implemented")}}]),e}();Re.url="../src/deliverance/",Re.headers={ContentType:"application/json"};var Ae=function(){function e(t){var a=this;Object(r.a)(this,e),this.language=void 0,this.dbCon=void 0,this.user=void 0,this.dbCon=new J,this.dbCon.loadLanguage({languageCode:t}).then((function(e){a.language=new $(e)}))}return Object(i.a)(e,[{key:"createDataSet",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a,n){var s,r,i,o,c,u,l,h,d;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.user){e.next=2;break}return e.abrupt("return",-2);case 2:if(void 0===(s=this.getSessionID())&&(s=0),!(s>0||this.user.getName()===ve.AI_MODEL_USER_NAME)){e.next=20;break}for(void 0===(r=this.user.getCurrentProjectID())&&(r=0),i=this.user.getID(),o=[],c=0;c<t.length;c++)u=t[c],null!=n&&n.length>=c?o.push({sensorID:u,datarowName:n[c]}):o.push({sensorID:u});return e.next=12,this.dbCon.createDataSet({sessionID:s,projectID:r,userID:i,dataSetName:a,dataRow:o});case 12:if(!((l=e.sent)<=0)){e.next=15;break}return e.abrupt("return",-3);case 15:for(h=[],d=0;d<t.length;d++)h.push({sensorType:t[d],dataRow:[],dataRowID:d});if(!this.user.createDataSet(l,a,(new Date).getMilliseconds(),h)&&this.user.getName()!==ve.AI_MODEL_USER_NAME){e.next=19;break}return e.abrupt("return",l);case 19:return e.abrupt("return",-4);case 20:return e.abrupt("return",-5);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"sendDataPoint",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var n,s,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.user){e.next=6;break}return n=this.getSessionID(),s=this.user.getID(),r=this.user.getCurrentDataSetID(),this.user.addDatapoint(t,a),e.abrupt("return",this.dbCon.sendDataPoint({sessionID:n,userID:s,dataSetID:r,dataRowID:t,datapoint:a}));case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"sendDataPointsAgain",value:function(){var e=Object(X.a)(H.a.mark((function e(){var t,a,n,s,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user){e.next=16;break}t=this.getSessionID(),a=this.user.getID(),n=this.user.getCurrentDataSetID(),s=this.user.getCurrentDataRows(),r=0;case 6:if(!(r<s.dataRows.length)){e.next=15;break}return e.next=9,this.dbCon.sendDataPointsAgain({sessionID:t,userID:a,dataSetID:n,dataRowID:r,datapoints:s.dataRows[r].datapoint});case 9:if(e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:r++,e.next=6;break;case 15:return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadProject",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a,n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=this.user&&this.user instanceof Ie)){e.next=9;break}return null==t&&(t=null===(a=this.user)||void 0===a?void 0:a.getCurrentProjectID()),n=this.user.getEmail(),s=this.user.getID(),e.t0=this.user,e.next=7,this.dbCon.loadProject({userID:s,adminEmail:n,projectID:t});case 7:return e.t1=e.sent,e.abrupt("return",e.t0.loadProject.call(e.t0,e.t1));case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProjectMetas",value:function(){var e=Object(X.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user){e.next=5;break}return t=this.user.getID(),e.next=4,this.dbCon.getProjectMetas({userID:t,adminEmail:this.getAdminEmail()});case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataSetMetas",value:function(){return void 0!==this.user?this.user.getDataSetMetas():[]}},{key:"getSessionID",value:function(){return null!=this.user?this.user.getSessionID():-1}},{key:"getDataRows",value:function(e){return null!=this.user?this.user.getDataRows(e):{dataRows:[]}}},{key:"getCurrentDataRows",value:function(){return null!=this.user?this.user.getCurrentDataRows():{dataRows:[]}}},{key:"getMessages",value:function(){return null!=this.language?this.language.getMessage():null}},{key:"setLanguage",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.language){e.next=8;break}return e.next=3,this.dbCon.loadLanguage({languageCode:t});case 3:return a=e.sent,this.language=new $(a),e.abrupt("return",!0);case 8:if(t===this.language.getLanguageCode()){e.next=13;break}return e.next=11,this.dbCon.loadLanguage({languageCode:t});case 11:return n=e.sent,e.abrupt("return",this.language.setLanguage(n));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLanguageMetas",value:function(){return this.dbCon.getLanguageMetas()}},{key:"getAdminEmail",value:function(){return this.user instanceof Ie?this.user.getEmail():""}},{key:"deleteDataSet",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a,n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user||!this.user.deleteDataSet(t)){e.next=6;break}if(!((a=this.user.getCurrentProjectID())>=0)){e.next=6;break}return n=this.getAdminEmail(),s=this.user.getID(),e.abrupt("return",this.dbCon.deleteDataSet({userID:s,adminEmail:n,projectID:a,dataSetID:t}));case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerAdmin",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a,n){var s,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={deviceID:-1,deviceName:"",deviceType:"",firmware:"",generation:"",MACADRESS:"",sensorInformation:[]},e.next=3,this.dbCon.registerAdmin({adminName:t,adminEmail:a,password:n,device:s});case 3:if(!((r=e.sent).adminID>=0)){e.next=7;break}return this.user=new Ie(r.adminID,r.device.deviceID,t,a),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"registerDataminer",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={deviceID:-1,deviceName:"",deviceType:"",firmware:"",generation:"",MACADRESS:"",sensorInformation:[]},e.next=3,this.dbCon.registerDataminer({dataminerName:t,sessionID:a,device:n});case 3:if(!((s=e.sent).dataminerID>=0&&s.device.deviceID>=0)){e.next=8;break}return this.user=new Ne(s.dataminerID,s.device.deviceID,t),this.user.loadProject(s.project),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"registerAIModelUser",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={deviceID:-1,deviceName:"",deviceType:"",firmware:"",generation:"",MACADRESS:"",sensorInformation:[]},e.next=3,this.dbCon.registerAIModelUser({aiModelUserName:t,modelID:a,device:n});case 3:if(!((s=e.sent).aiModelUserID>=0&&s.device.deviceID>=0)){e.next=8;break}return this.user=new Le(s.aiModelUserID,s.device.deviceID,t),this.user.loadProject(s.project),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loginAdmin",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.user){e.next=8;break}return e.next=3,this.dbCon.loginAdmin({adminEmail:t,password:a});case 3:if(null==(n=e.sent).admin||-1===n.admin.adminID){e.next=8;break}return s=n.admin,this.user=new Ie(s.adminID,s.deviceID,s.adminName,s.email,s.device),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createProject",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a,n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.user instanceof Ie)){e.next=7;break}return a=this.user.getID(),n=this.getAdminEmail(),e.next=5,this.dbCon.createProject({userID:a,adminEmail:n,projectName:t});case 5:return s=e.sent,e.abrupt("return",this.user.createProject(s.projectID,s.sessionID,t));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a){var n,s,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user){e.next=11;break}return n=this.getSessionID(),s=this.user.getID(),r=this.user.getCurrentDataSetID(),e.next=6,this.dbCon.createLabel({sessionID:n,userID:s,datasetID:r,label:{span:t,labelName:a}});case 6:if(!((i=e.sent)>=0)){e.next=11;break}if(!this.user.createLabel(i,t,a)){e.next=11;break}return e.abrupt("return",i);case 11:return e.abrupt("return",-1);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t,a,n){var s,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user){e.next=7;break}if(!this.user.setLabel(t,a,n)){e.next=7;break}return s=this.getSessionID(),r=this.user.getID(),i=this.user.getCurrentDataSetID(),e.abrupt("return",this.dbCon.setLabel({sessionID:s,userID:r,datasetID:i,label:{labelID:t,span:a,labelName:n}}));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteLabel",value:function(){var e=Object(X.a)(H.a.mark((function e(t){var a,n,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.user){e.next=7;break}if(!this.user.deleteLabel(t)){e.next=7;break}return a=this.getSessionID(),n=this.user.getID(),s=this.user.getCurrentDataSetID(),e.abrupt("return",this.dbCon.deleteLabel({sessionID:a,userID:n,dataSetID:s,labelID:t}));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLabels",value:function(){return null!=this.user?this.user.getLabels():{labels:[]}}},{key:"classify",value:function(e,t,a){new Ce(e).classify(t,a)}},{key:"getAIModel",value:function(e,t){return new Re(e,t).getAIModel()}},{key:"sendAIModel",value:function(e,t){return new Re(e,K.WEB_APP).sendAIModel(t)}},{key:"applyModel",value:function(e,t,a,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:128,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:64,c=new Ce(-1),u=this.user.getCurrentProjectID();c.applyModel(e,t,a,n,s,u,r,i,o)}}]),e}(),Me=a(40),Pe=a.n(Me),Ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:Pe.a.title,children:a.T_TITLE_DE})})}}]),a}(o.Component);Ue.T_TITLE_DE="Datenerfassung";var Fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).props={dataRows:[{sensorType:1,datapoint:[{value:[5],relativeTime:5}]}]},e.diagrammData={lineLabels:[],sensorRow:[],datavalue:[],time:[],showDiagram:!1,diagram:{},diagramLineLabels:{},diagramData:{},diagramOptions:{},color:["rgba(46,190,87,1)","rgba(68,24,232,1)","rgba(238,173,14,1)","rgba(178,34,34,1)","rgba(238, 130, 238,1)","rgba(0, 0, 0,1)","rgba(106, 90, 205,1)","rgba(238, 118, 0,1)","rgba(105, 105, 105,1)"],csscolor:["2EBE57","CC00FF","EEAD0E","B22222","EE82EE","000000","6A5ACD","EE7600","696969"]},e}return Object(i.a)(n,[{key:"updateDiagramm",value:function(){this.diagrammData.lineLabels=[],this.diagrammData.sensorRow=[],this.diagrammData.datavalue=[],this.diagrammData.time=[],this.diagrammData.showDiagram=!0;var e=[];if(void 0!==this.props.dataRows){for(var t=0;t<this.props.dataRows.length;t++){this.diagrammData.sensorRow.push(this.props.dataRows[t].sensorType);for(var a=0;a<3;a++){for(var s=0;s<this.props.dataRows[t].datapoint.length;s++)e.push(this.props.dataRows[t].datapoint[s].value[a]);this.diagrammData.datavalue.push(e),e=[]}}for(s=0;s<this.props.dataRows[0].datapoint.length;s++)this.diagrammData.time.push(this.props.dataRows[0].datapoint[s].relativeTime);for(var r=[],i=[],o=0;o<3*this.diagrammData.sensorRow.length;o++){var c=".X",u="";switch(this.diagrammData.sensorRow[o/3|0]){case 2:u=n.T_ACCELEROMETER_DE;break;case 3:u=n.T_GYROSCOPE_DE;break;case 4:u=n.T_MAGNETOMETER_DE}o%3===1&&(c=".Y"),o%3===2&&(c=".Z"),i.push(Object(h.jsxs)("span",{color:this.diagrammData.csscolor[o],children:["\u25a0",u+c,Object(h.jsx)("br",{})]})),r.push({label:u+c,strokeColor:this.diagrammData.color[o],borderWidth:1,data:this.diagrammData.datavalue[o]})}var l={labels:this.diagrammData.time,datasets:r};this.diagrammData.diagramData=l,this.diagrammData.lineLabels=i,this.diagrammData.diagramOptions={datasetFill:!1,pointDotRadius:2,pointHitDetectionRadius:1,offsetGridLines:!1,pointDot:!1}}}},{key:"render",value:function(){var e=a(23).Line;return this.updateDiagramm(),Object(h.jsxs)("div",{children:[this.diagrammData.lineLabels,Object(h.jsx)(e,{data:this.diagrammData.diagramData,options:this.diagrammData.diagramOptions,width:"400",height:"200",redraw:!0})]})}}]),n}(o.Component);Fe.T_ACCELEROMETER_DE="Beschleunigungssensor",Fe.T_GYROSCOPE_DE="Gyroskop",Fe.T_MAGNETOMETER_DE="Magnetometer";a(94);var Be=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={labels:[],newStart:"",newEnd:"",newName:""},e.props={newLabel:function(e){},pagedeleteLabel:function(e){}},e.IDcounter=0,e.handleChangeLabel=function(t){e.setState({newName:t.target.value})},e.handleChangeStart=function(t){e.setState({newStart:t.target.value})},e.handleChangeEnd=function(t){e.setState({newEnd:t.target.value})},e.handleClick=function(){var t=e.state,a={start:t.newStart,end:t.newEnd,name:t.newName};e.addLabel(a),e.setState({newStart:"",newEnd:"",newName:""})},e.addLabel=function(t){if(""!==t.start&&""!==t.end)if(""!==t.name){t.start=t.start.replace(",","."),t.end=t.end.replace(",",".");var n=e.formatFloatInString(t.start),s=e.formatFloatInString(t.end);if(NaN!==n||NaN!==s){var r={labelID:e.IDcounter,start:n,end:s,name:t.name};e.props.newLabel(r);var i=e.state.labels,o=[r].concat(Object(g.a)(i));e.setState({labels:o})}else v.NotificationManager.success(a.E_TIME_INVALID_DE)}else v.NotificationManager.error(a.E_NAME_MISSING_DE);else v.NotificationManager.error(a.E_MISSING_DE)},e.deleteLabel=function(t,a){var n=e.state.labels.filter((function(t){return t.labelID===a&&e.props.pagedeleteLabel(t),t.labelID!==a}));e.setState({labels:n})},e}return Object(i.a)(a,[{key:"formatFloatInString",value:function(e){return parseInt((1e3*parseFloat(e)).toString())/1e3}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"label-wrap",children:[this.state.labels.map((function(t){return Object(h.jsxs)("li",{children:[a.T_TIME_FROM_DE," ",t.start," s ",a.T_TIME_TO_DE," ",t.end," s:  ",t.name,Object(h.jsx)("button",{className:"delete",onClick:function(a){return e.deleteLabel(a,t.labelID)},children:a.T_BUTTON_DELETE_DE})]})})),Object(h.jsxs)("div",{children:[a.T_LABEL_START_DE,":",Object(h.jsx)("input",{type:"text",value:this.state.newStart,onChange:this.handleChangeStart}),Object(h.jsx)("br",{}),a.T_LABEL_END_DE,":",Object(h.jsx)("input",{type:"text",value:this.state.newEnd,onChange:this.handleChangeEnd}),Object(h.jsx)("br",{}),a.T_LABEL_NAME_DE,":",Object(h.jsx)("input",{type:"text",value:this.state.newName,onChange:this.handleChangeLabel}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"add",type:"button",onClick:function(){return e.handleClick()},children:a.T_BUTTON_ADD_DE})]})]})}}]),a}(o.Component);Be.E_MISSING_DE="Das Labelzeitfenster muss bestimmt werden!",Be.E_NAME_MISSING_DE="Das Labelzeitfenster braucht einen Namen!",Be.E_TIME_INVALID_DE="Das Labelzeitfenster muss mit einer Start und Endzeit bestimmt werden,\n die Angabe ist in Sekunden.",Be.T_BUTTON_DELETE_DE="L\xf6schen",Be.T_BUTTON_ADD_DE="Label hinzuf\xfcgen",Be.T_TIME_FROM_DE="Von",Be.T_TIME_TO_DE="bis",Be.T_LABEL_START_DE="Start",Be.T_LABEL_END_DE="Ende",Be.T_LABEL_NAME_DE="Label-Name";var We=function e(){Object(r.a)(this,e),this.currentState=n.NeedMessage,this.currentLabel=void 0,this.languageCode="de",this.messageIDs=[],this.messages=[],this.usedSensorNames=[],this.dataRows=[{sensorType:1,datapoint:[{value:[5],relativeTime:5}]}],this.labels=[]},Ge=(a(95),function(){function e(){Object(r.a)(this,e),this.state=void 0,this.observers=[],this.state=new We,this.update()}return Object(i.a)(e,[{key:"update",value:function(){this.notify();var t=Object(h.jsxs)("div",{children:[Object(h.jsx)(Ue,{}),Object(h.jsx)(Fe,{dataRows:this.state.dataRows}),Object(h.jsx)("div",{className:"label-container",children:Object(h.jsx)(Be,{newLabel:this.newLabel.bind(this),pagedeleteLabel:this.pagedeleteLabel.bind(this)})}),Object(h.jsx)("button",{className:"reload",onClick:this.reloadPage,children:e.T_BUTTON_RELOAD_DE}),Object(h.jsx)(v.NotificationContainer,{})]});null!==document.getElementById("root")&&D.a.render(t,document.getElementById("root"))}},{key:"reloadPage",value:function(){window.location.reload()}},{key:"newLabel",value:function(e){this.state.currentLabel=e,this.state.currentState=n.NewLabel,this.notify()}},{key:"pagedeleteLabel",value:function(e){var t={labelID:e.labelID,start:e.start,end:e.end,name:e.name};this.state.currentLabel=t,this.state.currentState=n.DeleteLabel,this.notify()}},{key:"attach",value:function(e){this.observers.push(e)}},{key:"detach",value:function(e){var t=this.observers.indexOf(e,0);t>-1&&this.observers.splice(t,1)}},{key:"notify",value:function(){for(var e=0;e<this.observers.length;e++){this.observers[e].update()}}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e,this.update()}}]),e}());Ge.T_BUTTON_RELOAD_DE="Erneut Erfassen";var ze=function(){function e(){Object(r.a)(this,e),this.page=void 0,this.state=void 0,this.page=new Ge,this.page.attach(this),this.state=this.page.getState(),this.state.dataRows=Qe.getInstance().getFacade().getCurrentDataRows().dataRows,this.page.setState(this.state),this.update()}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state);break;case n.ChangeLabel:this.changeDataLabel();break;case n.NewLabel:this.newDataLabel();break;case n.DeleteLabel:this.deleteDataLabel()}}},{key:"changeDataLabel",value:function(){var e=this,t=this.state.currentLabel;Qe.getInstance().getFacade().setLabel(t.labelID,{start:t.start,end:t.end},t.name).then((function(t){t?(e.state.currentState=n.setLabel,e.page.setState(e.state)):(e.state.currentState=n.LoadError,e.page.setState(e.state))}))}},{key:"newDataLabel",value:function(){var e=this,t=this.state.currentLabel.start,a=this.state.currentLabel.end,s=this.state.currentLabel.name,r=Qe.getInstance().getFacade().createLabel({start:t,end:a},s);this.state.wait=r,r.then((function(t){e.state.currentLabel.labelID=t,e.state.currentState=n.setLabel,e.page.setState(e.state)}))}},{key:"deleteDataLabel",value:function(){var e=this;Qe.getInstance().getFacade().deleteLabel(this.state.currentLabel.labelID).then((function(t){t?(e.state.currentState=n.setLabel,e.page.setState(e.state)):(e.state.currentState=n.LoadError,e.page.setState(e.state))}))}}]),e}(),qe=function(){function e(t){Object(r.a)(this,e),this.sensorManager=void 0,this.page=new de,this.state=void 0,this.sensorManager=t,this.page.attach(this),this.state=this.page.getState(),this.state.leadTime=this.sensorManager.getWaitTime(),this.sensorManager.readData(this.page)}return Object(i.a)(e,[{key:"update",value:function(){var e=this,t=this.page.getState();switch(t.currentState){case n.StartDataRead:this.sensorManager.readData(this.page);break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state);break;case n.NeedInstantDiagram:break;case n.ChangeToFinish:Qe.getInstance().changeTo(new ze);break;case n.LoadError:window.confirm("Es wurden nicht alle Daten Erfolgreich gesendet. Stellen sie sicher das eine Internetverbindung besteht. Sollen die Daten erneut gesendet werden?")&&Qe.getInstance().getFacade().sendDataPointsAgain().then((function(a){a||(e.state.currentState=n.LoadError,e.page.setState(t))})),this.state.currentState=n.waitForDB,this.page.setState(t)}}}]),e}(),Ve=function(){function e(){var t=this;Object(r.a)(this,e),this.urlParams=void 0,this.page=void 0,this.sensorManager=new ge,this.state=void 0;var a=window.location.search;this.urlParams=new URLSearchParams(a);var n=this.urlParams.get("Admin");this.page=new re("Wilkommen! Sie erfassen f\xfcr "+n),this.page.attach(this),this.state=this.page.getState(),Qe.getInstance().getFacade().registerDataminer("Miner",+this.urlParams.get("SessionID")),this.state.wait=this.sensorManager.getAvailableSensors().then((function(e){for(var a=0;a<e.length;a++){var n=e[a].sensorTypID,s=e[a].sensorType;t.state.recordingSettings.availableSensorTypes.push({sensorTypID:n,sensorType:s,chosen:!1})}t.page.setState(t.state)})),this.update()}return Object(i.a)(e,[{key:"update",value:function(){switch(this.state=this.page.getState(),this.state.currentState){case n.ChangeToDataCollection:this.start();break;case n.SetLanguage:Qe.getInstance().setLanguage(this.state.languageCode);break;case n.NeedMessage:this.state.messages=Qe.getInstance().getMessage(this.state.messages),this.state.currentState=n.waitForDB,this.page.setState(this.state)}}},{key:"start",value:function(){var e=this.state.recordingSettings.usedSensorTypes,t=this.state.recordingSettings.newDataSetName,a=this.state.recordingSettings.waitTime,n=this.state.recordingSettings.readTime;this.sensorManager.setUpDataRead(e,t,a,n,!0);var s=new qe(this.sensorManager);Qe.getInstance().changeTo(s)}}]),e}(),Ke=a(26),Qe=function(){function e(){Object(r.a)(this,e),this.facade=void 0,this.currentPageController=void 0,this.languageCode="de-de",document.title="Explorer App",this.facade=new Ae("de-de")}return Object(i.a)(e,[{key:"checkLoginStatus",value:function(){return!1}},{key:"changeTo",value:function(e){this.currentPageController=e}},{key:"startApp",value:function(){var e=window.location.search,t=new URLSearchParams(e);if("true"===t.get("isMiner"))this.currentPageController=new Ve;else if("true"===t.get("deliverModel")){var a=+t.get("modelID");this.currentPageController=new S(a)}else if("true"===t.get("useModel")){var n=+t.get("modelID");this.currentPageController=new ve(n)}else this.currentPageController=new Y}},{key:"getFacade",value:function(){return this.facade}},{key:"getMessage",value:function(e){return[{text:"null",id:-1}]}},{key:"getText",value:function(){switch(this.languageCode){case"de-de":default:return Ke}}},{key:"setLanguage",value:function(e){this.languageCode=e}},{key:"getLanguageCode",value:function(){return this.languageCode}}],[{key:"getInstance",value:function(){return void 0===this.mainController?(this.mainController=new e,this.mainController):this.mainController}}]),e}();Qe.mainController=void 0,Qe.getInstance().startApp(),s()}},[[96,1,2]]]);
//# sourceMappingURL=main.d8f1657c.chunk.js.map